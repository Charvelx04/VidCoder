<Window x:Class="VidCoder.View.EncodingWindow"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:local="clr-namespace:VidCoder"
	xmlns:controls="clr-namespace:VidCoder.Controls"
	xmlns:model="clr-namespace:HandBrake.Interop;assembly=HandBrakeInterop"
	xmlns:converters="clr-namespace:VidCoder.Converters"
	xmlns:resx="clr-namespace:VidCoder.Properties"
	xmlns:vm="clr-namespace:VidCoder.ViewModel"
	Title="{Binding WindowTitle}" Width="671" Height="467" MinWidth="588" MinHeight="467"
	Style="{StaticResource NormalWindow}" WindowStartupLocation="CenterOwner"
	Closing="Window_Closing"
	DataContextChanged="OnDataContextChanged" ShowInTaskbar="False" WindowStyle="ToolWindow">
	<Window.Resources>
		<local:EnumDisplayer Type="{x:Type model:OutputFormat}" x:Key="OutputFormatChoices" />
		<local:EnumDisplayer Type="{x:Type model:Anamorphic}" x:Key="AnamorphicChoices" />
		<local:EnumDisplayer Type="{x:Type model:Detelecine}" x:Key="DetelecineChoices" />
		<local:EnumDisplayer Type="{x:Type model:Decomb}" x:Key="DecombChoices" />
		<local:EnumDisplayer Type="{x:Type model:Deinterlace}" x:Key="DeinterlaceChoices" />
		<local:EnumDisplayer Type="{x:Type model:Denoise}" x:Key="DenoiseChoices" />
		<converters:FramerateDisplayConverter x:Key="FramerateDisplayConverter" />
		<converters:SampleRateDisplayConverter x:Key="SampleRateDisplayConverter" />
		<Style x:Key="TestNumberBox" TargetType="TextBox">
			<Style.Triggers>
				<DataTrigger Binding="{Binding IsFocused, ElementName=widthBox}" Value="True">
					<Setter Property="Background" Value="Blue" />
				</DataTrigger>
			</Style.Triggers>
		</Style>
		<Style x:Key="SectionHeader" TargetType="TextBlock">
			<Setter Property="FontWeight" Value="Bold" />
		</Style>
		<Style x:Key="AudioOutputPreview" TargetType="TextBlock">
			<Setter Property="Margin" Value="9,0,9,2" />
		</Style>
		<Style x:Key="InputOutputInfoSection" TargetType="Border">
			<Setter Property="Padding" Value="3" />
			<Setter Property="CornerRadius" Value="10" />
			<Setter Property="BorderThickness" Value="1" />
			<Setter Property="BorderBrush" Value="#999999" />
		</Style>
		<Style x:Key="NormalComboBox" TargetType="ComboBox">
			<Setter Property="Height" Value="22" />
			<Setter Property="Width" Value="80" />
			<Setter Property="HorizontalAlignment" Value="Left" />
		</Style>
		<Style x:Key="CustomFilterBox" TargetType="TextBox">
			<Setter Property="Width" Value="120" />
			<Setter Property="Height" Value="23" />
			<Setter Property="Margin" Value="6,0,0,0" />
			<Setter Property="HorizontalAlignment" Value="Left" />
		</Style>
		<Style x:Key="ReadOnlyBox" TargetType="TextBox">
			<Style.Triggers>
				<DataTrigger Binding="{Binding IsReadOnly, RelativeSource={RelativeSource Self}}" Value="True">
					<Setter Property="Background" Value="#EEEEEE" />
				</DataTrigger>
			</Style.Triggers>
		</Style>
		<Style x:Key="AdvancedLabel" TargetType="Label">
			<Setter Property="HorizontalAlignment" Value="Right" />
		</Style>
		<Style x:Key="AdvancedToolTip" TargetType="TextBlock">
			<Setter Property="Width" Value="400" />
			<Setter Property="TextWrapping" Value="Wrap" />
		</Style>
		<Style x:Key="AdvancedToolTipHolder" TargetType="FrameworkElement">
			<Setter Property="ToolTipService.ShowDuration" Value="20000" />
		</Style>
		<DataTemplate x:Key="AudioDragTemplate">
			<TextBox Text="{Binding FileName, Mode=OneWay}" />
		</DataTemplate>
		<DataTemplate x:Key="TargetStreamTemplate">
			<ComboBox
				ItemsSource="{Binding TargetStreams}"
				SelectedIndex="{Binding TargetStreamIndex}">
				<ComboBox.ItemTemplate>
					<DataTemplate>
						<StackPanel Orientation="Horizontal">
							<TextBlock Text="{Binding Text}" VerticalAlignment="Center" />
							<Border Margin="10,1,1,1" CornerRadius="3" Padding="3,1,3,1"
								Background="{StaticResource InputBrush}" Visibility="{Binding HasTrackDetails, Converter={StaticResource VisibilityConverter}}">
								<TextBlock Text="{Binding TrackDetails}" Foreground="Black" FontSize="11" />
							</Border>
						</StackPanel>
					</DataTemplate>
				</ComboBox.ItemTemplate>
			</ComboBox>
		</DataTemplate>
		<DataTemplate x:Key="AudioCodecTemplate">
			<ComboBox MinWidth="95"
				ItemsSource="{Binding AudioEncoders}"
				SelectedItem="{Binding SelectedAudioEncoder}"
				DisplayMemberPath="Display"/>
		</DataTemplate>
		<DataTemplate x:Key="MixdownTemplate">
			<ComboBox Width="125"
				ItemsSource="{Binding MixdownChoices}"
				SelectedItem="{Binding SelectedMixdown}"
				DisplayMemberPath="Display"
				Visibility="{Binding EncoderSettingsVisible, Converter={StaticResource VisibilityConverter}}"/>
		</DataTemplate>
		<DataTemplate x:Key="SampleRateTemplate">
			<ComboBox
				Width="107"
				ItemsSource="{Binding SampleRateChoices}"
				SelectedValue="{Binding SampleRate}"
				Visibility="{Binding EncoderSettingsVisible, Converter={StaticResource VisibilityConverter}}">
				<ComboBox.ItemTemplate>
					<DataTemplate>
						<TextBlock Text="{Binding Converter={StaticResource SampleRateDisplayConverter}}" />
					</DataTemplate>
				</ComboBox.ItemTemplate>
			</ComboBox>
		</DataTemplate>
		<DataTemplate x:Key="BitrateTemplate">
			<ComboBox Width="50"
				ItemsSource="{Binding BitrateChoices}"
				SelectedValue="{Binding Bitrate}"
				Visibility="{Binding EncoderSettingsVisible, Converter={StaticResource VisibilityConverter}}"/>
		</DataTemplate>
		<DataTemplate x:Key="DrcTemplate">
			
		</DataTemplate>
		<DataTemplate x:Key="NameTemplate">
			<TextBox
				Width="85"
				Text="{Binding Name}"/>
		</DataTemplate>
		<DataTemplate x:Key="RemoveAudioTemplate">
			<Button Style="{StaticResource RemoveButtonStyle}" Command="{Binding RemoveAudioEncodingCommand}" VerticalAlignment="Center">Remove audio encoding</Button>
		</DataTemplate>
	</Window.Resources>
	<Window.InputBindings>
		<KeyBinding Key="Esc" Command="{Binding CancelCommand}" />
		<KeyBinding Key="S" Modifiers="Control" Command="{Binding SaveCommand}" />
		<KeyBinding Key="S" Modifiers="Control+Shift" Command="{Binding SaveAsCommand}" />
		<KeyBinding Key="L" Modifiers="Control" Command="{Binding MainViewModel.OpenLogWindowCommand}" />
		<KeyBinding Key="P" Modifiers="Control" Command="{Binding MainViewModel.OpenPreviewWindowCommand}" />
		<KeyBinding Key="F2" Command="{Binding RenameCommand}" />
	</Window.InputBindings>
	<Grid>
		<ToolBarPanel Margin="0,0,0,0" VerticalAlignment="Top" HorizontalAlignment="Left">
			<ToolBar ToolBarTray.IsLocked="True" Loaded="ToolBar_Loaded">
				<TextBlock
					Text="{Binding ProfileName}" Margin="0,4,0,0"
					Height="24" HorizontalAlignment="Left" VerticalAlignment="Top" Width="158" FontWeight="Bold" FontSize="14" TextAlignment="Center" TextTrimming="CharacterEllipsis" />
				<Button Height="24" Width="70"
					Visibility="{Binding IsBuiltIn, Converter={StaticResource VisibilityConverter}, ConverterParameter=True}"
					Command="{Binding SaveCommand}">
					<StackPanel Orientation="Horizontal">
						<Image Source="/Icons/save.png" Width="16" Height="16" />
						<TextBlock Text="Save" Margin="5,0,0,0" />
					</StackPanel>
				</Button>
				<Button Height="24" Width="73"
					Command="{Binding SaveAsCommand}">Save As...</Button>
				<Button
					Content="Rename"
					Visibility="{Binding IsBuiltIn, Converter={StaticResource VisibilityConverter}, ConverterParameter=True}"
					Height="24" Width="65"
					Command="{Binding RenameCommand}" />
				<Button
					Height="24" Width="70"
					Visibility="{Binding IsModified, Converter={StaticResource VisibilityConverter}}"
					Command="{Binding DeletePresetCommand}">
					<StackPanel Orientation="Horizontal">
						<Image Source="/Icons/undo_16x16.png" Width="16" Height="16" />
						<TextBlock Text="Revert" Margin="4,0,0,0" />
					</StackPanel>
				</Button>
				<Button
					Height="24" Width="70"
					Visibility="{Binding DeleteButtonVisible, Converter={StaticResource VisibilityConverter}}"
					Command="{Binding DeletePresetCommand}">
					<StackPanel Orientation="Horizontal">
						<Grid Background="Transparent">
							<Rectangle Width="14" Height="3" Fill="{StaticResource RedFill}">
								<Rectangle.LayoutTransform>
									<RotateTransform Angle="-45" />
								</Rectangle.LayoutTransform>
							</Rectangle>
							<Rectangle Width="14" Height="3" Fill="{StaticResource RedFill}">
								<Rectangle.LayoutTransform>
									<RotateTransform Angle="45" />
								</Rectangle.LayoutTransform>
							</Rectangle>
						</Grid>
						<TextBlock Text="Delete" Margin="4,0,0,0" />
					</StackPanel>
				</Button>
			</ToolBar>
		</ToolBarPanel>
		<Button Height="26" Margin="0,4,12,0" VerticalAlignment="Top" IsEnabled="{Binding HasSourceData}"
			Command="{Binding PreviewCommand}" HorizontalAlignment="Right" Width="77">
			<StackPanel Orientation="Horizontal">
				<Image Source="/Icons/preview.png" />
				<TextBlock Text="Preview" Margin="5,0,0,0" VerticalAlignment="Center" />
			</StackPanel>
		</Button>

		<Label Height="28" HorizontalAlignment="Left" Margin="20,36,0,0" Name="label11" VerticalAlignment="Top" Width="69">Container:</Label>
		<ComboBox Height="23" HorizontalAlignment="Left" Margin="85,39,0,0" VerticalAlignment="Top" Width="58"
			ItemsSource="{Binding DisplayNames, Source={StaticResource OutputFormatChoices}}"
			SelectedValue="{Binding OutputFormat, Converter={StaticResource OutputFormatChoices}}"/>
		<Label Height="28" Margin="155.422,34,0,0" Name="label12" VerticalAlignment="Top" HorizontalAlignment="Left" Width="64"
			Visibility="{Binding ShowMp4Choices, Converter={StaticResource VisibilityConverter}}">Extension:</Label>
		<RadioButton Margin="221.422,34,0,0" Name="radioButton3" Height="16" VerticalAlignment="Top" HorizontalAlignment="Left" Width="53.578"
			IsChecked="{Binding PreferredExtension, Converter={StaticResource EnumBoolConverter}, ConverterParameter=Mp4}"
			Visibility="{Binding ShowMp4Choices, Converter={StaticResource VisibilityConverter}}"
			IsEnabled="{Binding Mp4ExtensionEnabled}"
			ToolTip="{Binding Mp4ExtensionToolTip}" ToolTipService.ShowOnDisabled="True">.mp4</RadioButton>
		<RadioButton Height="16" Margin="221.422,49,0,0" Name="radioButton4" VerticalAlignment="Top" HorizontalAlignment="Left" Width="53.578"
			IsChecked="{Binding PreferredExtension, Converter={StaticResource EnumBoolConverter}, ConverterParameter=M4v}"
			Visibility="{Binding ShowMp4Choices, Converter={StaticResource VisibilityConverter}}">.m4v</RadioButton>
		<CheckBox
			Content="Large file size" ToolTip="{x:Static resx:Resources.LargeFileSizeToolTip}"
			Margin="277.093,34,0,0" HorizontalAlignment="Left" Width="98.907" Height="16" VerticalAlignment="Top"
			Visibility="{Binding ShowMp4Choices, Converter={StaticResource VisibilityConverter}}"
			IsChecked="{Binding LargeFile}" />
		<CheckBox
			Content="Web optimized" ToolTip="{x:Static resx:Resources.WebOptimizedToolTip}"
			Height="16" Margin="277,52,0,0" VerticalAlignment="Top" Visibility="{Binding ShowMp4Choices, Converter={StaticResource VisibilityConverter}}"
			IsChecked="{Binding Optimize}" HorizontalAlignment="Left" Width="111" />
		<Grid Height="35" HorizontalAlignment="Left" Margin="385.995,34,0,0" VerticalAlignment="Top" Width="150">
			<StackPanel Orientation="Vertical" VerticalAlignment="Center">
				<CheckBox
					Content="iPod 5G support" ToolTip="{x:Static resx:Resources.IPod5GSupportToolTip}"
					Height="18" VerticalAlignment="Center"
					Visibility="{Binding ShowMp4Choices, Converter={StaticResource VisibilityConverter}}"
					IsChecked="{Binding IPod5GSupport}" />
				<CheckBox
					Content="Include chapter markers" ToolTip="{x:Static resx:Resources.IncludeChapterMarkersToolTip}"
					VerticalAlignment="Center"
					IsChecked="{Binding IncludeChapterMarkers}" />
			</StackPanel>
		</Grid>



		<TabControl Margin="0,73,0,0" Name="tabControl">
			<TabItem Header="Picture">
				<Grid>
					<Grid.RowDefinitions>
						<RowDefinition Height="Auto" />
						<RowDefinition Height="Auto" />
						<RowDefinition />
					</Grid.RowDefinitions>
					<Grid.ColumnDefinitions>
						<ColumnDefinition />
						<ColumnDefinition />
					</Grid.ColumnDefinitions>
					<Grid Grid.Row="0" Grid.Column="0" Visibility="{Binding HasSourceData, Converter={StaticResource VisibilityConverter}}">
						<Border
							Margin="3,3,0,0" VerticalAlignment="Top" HorizontalAlignment="Left" Width="274"
							Style="{StaticResource InputOutputInfoSection}"
							Background="{StaticResource InputBrush}" Effect="{StaticResource InfoBoxShadow}">
							<Grid>
								<TextBlock Height="21" Width="38" HorizontalAlignment="Left" Margin="2,0,0,0" VerticalAlignment="Top" Text="Input" Style="{StaticResource SectionHeader}" />
								<Grid Margin="50,0,0,0">
									<Grid.RowDefinitions>
										<RowDefinition Height="Auto" />
										<RowDefinition Height="Auto" />
										<RowDefinition Height="Auto" />
									</Grid.RowDefinitions>
									<Grid.ColumnDefinitions>
										<ColumnDefinition Width="105" />
										<ColumnDefinition Width="4" />
										<ColumnDefinition Width="173*" />
									</Grid.ColumnDefinitions>
									<TextBlock Text="Storage Resolution:" Grid.Row="0" Grid.Column="0" />
									<TextBlock Text="Pixel Aspect Ratio:" Grid.Row="1" Grid.Column="0" />
									<TextBlock Text="Display Resolution:" Grid.Row="2" Grid.Column="0" />

									<TextBlock Text="{Binding InputSourceResolution}" Grid.Row="0" Grid.Column="2" />
									<TextBlock Text="{Binding InputPixelAspectRatio}" Grid.Row="1" Grid.Column="2" />
									<TextBlock Text="{Binding InputDisplayResolution}" Grid.Row="2" Grid.Column="2" />
								</Grid>
							</Grid>
						</Border>
					</Grid>
					
					<!-- Sizing block -->
					<Grid Grid.Row="1">
						<TextBlock Height="21" HorizontalAlignment="Left" Margin="6,2,0,0" VerticalAlignment="Top" Width="64"
							Text="Sizing"
							Style="{StaticResource SectionHeader}" />
						<Label HorizontalAlignment="Left" Margin="45,22,0,0" Name="label1" Width="47" Height="27.04" VerticalAlignment="Top">Width:</Label>
						<controls:NumberBox Height="23" HorizontalAlignment="Left" Margin="90,25,0,0" VerticalAlignment="Top" Width="55"
							Number="{Binding Width, Mode=TwoWay}" NoneCaption="(auto)" Modulus="2" Minimum="32" Maximum="3712"
							IsEnabled="{Binding WidthEnabled}"/>
						<Label HorizontalAlignment="Left" Margin="176,22,0,0" Name="label2" Width="49.2" Height="27.04" VerticalAlignment="Top">Height:</Label>
						<controls:NumberBox Height="23" Margin="226,25,0,0" VerticalAlignment="Top" HorizontalAlignment="Left" Width="55"
							Number="{Binding Height, Mode=TwoWay}" NoneCaption="(auto)" Modulus="2" Minimum="32" Maximum="3712"
							IsEnabled="{Binding HeightEnabled}"/>
						<Label HorizontalAlignment="Left" Margin="20,49,0,0" Name="label3" Width="77" Height="26" VerticalAlignment="Top">Max Width:</Label>
						<controls:NumberBox HorizontalAlignment="Left" Margin="90,54,0,0" Width="55" Height="23" VerticalAlignment="Top"
							Number="{Binding MaxWidth, Mode=TwoWay}" Modulus="2" Minimum="32"
							IsEnabled="{Binding WidthEnabled}"/>
						<Label Margin="151,49,0,0" Name="label4" Height="28.04" VerticalAlignment="Top" HorizontalAlignment="Left" Width="74.2">Max Height:</Label>
						<controls:NumberBox Margin="226,54,0,0" Height="23.04" VerticalAlignment="Top" HorizontalAlignment="Left" Width="55"
							Number="{Binding MaxHeight, Mode=TwoWay}" Modulus="2" Minimum="32"
							IsEnabled="{Binding HeightEnabled}"/>

						<CheckBox HorizontalAlignment="Left" Margin="48,81,0,0" Name="checkBox1" Width="120" Height="17" VerticalAlignment="Top"
							IsChecked="{Binding KeepDisplayAspect}"
							IsEnabled="{Binding KeepDisplayAspectEnabled}">Keep Aspect Ratio</CheckBox>

						
						<Grid HorizontalAlignment="Left" Margin="20,103,0,0" Name="grid2" Width="234" VerticalAlignment="Top">
							<Grid.RowDefinitions>
								<RowDefinition Height="Auto" />
								<RowDefinition Height="Auto" />
							</Grid.RowDefinitions>
							<Grid.ColumnDefinitions>
								<ColumnDefinition Width="110" />
								<ColumnDefinition Width="139*" />
							</Grid.ColumnDefinitions>

							<Label Grid.Row="0" Grid.Column="0" Height="24" HorizontalAlignment="Left" VerticalAlignment="Center" Width="81">Anamorphic:</Label>
							<ComboBox Grid.Column="1" Height="22" VerticalAlignment="Top" Margin="0,1,0,0" HorizontalAlignment="Left" Width="65"
								ItemsSource="{Binding DisplayNames, Source={StaticResource AnamorphicChoices}}"
								SelectedValue="{Binding Anamorphic, Converter={StaticResource AnamorphicChoices}}" />

							<Label Grid.Row="1" Grid.Column="0" Height="24" HorizontalAlignment="Left" VerticalAlignment="Center" Width="81"
								Visibility="{Binding CustomAnamorphicFieldsVisible, Converter={StaticResource VisibilityConverter}}">Modulus:</Label>
							<ComboBox Grid.Row="1" Grid.Column="1" Height="22" VerticalAlignment="Top" Margin="0,1,0,0" HorizontalAlignment="Left" Width="65"
								SelectedValue="{Binding Modulus}"
								SelectedValuePath="Content"
								Visibility="{Binding CustomAnamorphicFieldsVisible, Converter={StaticResource VisibilityConverter}}">
								<ComboBoxItem>16</ComboBoxItem>
								<ComboBoxItem>8</ComboBoxItem>
								<ComboBoxItem>4</ComboBoxItem>
								<ComboBoxItem>2</ComboBoxItem>
							</ComboBox>
						</Grid>

						<RadioButton Margin="37,160,0,0" Height="16" HorizontalAlignment="Left" VerticalAlignment="Top"
							Visibility="{Binding CustomAnamorphicFieldsVisible, Converter={StaticResource VisibilityConverter}}"
							IsChecked="{Binding UseDisplayWidth}"
							ToolTip="{x:Static resx:Resources.DisplayWidthToolTip}">Display Width:</RadioButton>
						<controls:NumberBox
							Height="23" HorizontalAlignment="Left" Margin="155,156,0,0" VerticalAlignment="Top" Width="55" NoneCaption="(auto)"
							Number="{Binding DisplayWidth, Mode=TwoWay}" AllowEmpty="{Binding KeepDisplayAspect}" Minimum="32"
							Visibility="{Binding CustomAnamorphicFieldsVisible, Converter={StaticResource VisibilityConverter}}"
							IsEnabled="{Binding UseDisplayWidth}"
							ToolTip="{x:Static resx:Resources.DisplayWidthToolTip}"/>

						<RadioButton Margin="37,185,0,0" HorizontalAlignment="Left" VerticalAlignment="Top" Width="119"
							Visibility="{Binding PixelAspectVisibile, Converter={StaticResource VisibilityConverter}}"
							IsChecked="{Binding UseDisplayWidth, Converter={StaticResource InverseBoolConverter}}"
							ToolTip="{x:Static resx:Resources.PixelAspectRatioToolTip}">Pixel Aspect Ratio:</RadioButton>
						<controls:NumberBox Height="23" HorizontalAlignment="Left" Margin="155,183,0,0" VerticalAlignment="Top" Width="40.698"
							Number="{Binding PixelAspectX, Mode=TwoWay}" AllowEmpty="False"
							Visibility="{Binding PixelAspectVisibile, Converter={StaticResource VisibilityConverter}}"
							IsEnabled="{Binding UseDisplayWidth, Converter={StaticResource InverseBoolConverter}}"
							ToolTip="{x:Static resx:Resources.PixelAspectRatioToolTip}"/>
						<Label Height="23.562" HorizontalAlignment="Left" VerticalContentAlignment="Center" Margin="198,181.356,0,0" Name="label5" VerticalAlignment="Top" Width="16.422"
							Visibility="{Binding PixelAspectVisibile, Converter={StaticResource VisibilityConverter}}">/</Label>
						<controls:NumberBox Height="23" HorizontalAlignment="Left" Margin="215,183,0,0" VerticalAlignment="Top" Width="40.698"
							Number="{Binding PixelAspectY, Mode=TwoWay}" AllowEmpty="False"
							Visibility="{Binding PixelAspectVisibile, Converter={StaticResource VisibilityConverter}}"
							IsEnabled="{Binding UseDisplayWidth, Converter={StaticResource InverseBoolConverter}}"
							ToolTip="{x:Static resx:Resources.PixelAspectRatioToolTip}"/>
					</Grid>

					<Grid Grid.Row="2" Grid.Column="0" Visibility="{Binding HasSourceData, Converter={StaticResource VisibilityConverter}}">
						<Border
							HorizontalAlignment="Left" VerticalAlignment="Top" Margin="3,5,0,0"
							Style="{StaticResource InputOutputInfoSection}" Height="55.88" Width="270"
							Background="{StaticResource OutputBrush}" Effect="{StaticResource InfoBoxShadow}">
							<Grid>
								<TextBlock Text="Output" Height="21" HorizontalAlignment="Left" Margin="2,0,0,0" VerticalAlignment="Top" Width="54" Style="{StaticResource SectionHeader}" />
								<Grid Margin="50,0,0,0">
									<Grid.RowDefinitions>
										<RowDefinition Height="Auto" />
										<RowDefinition Height="Auto" />
										<RowDefinition Height="Auto" />
									</Grid.RowDefinitions>
									<Grid.ColumnDefinitions>
										<ColumnDefinition Width="105" />
										<ColumnDefinition Width="4" />
										<ColumnDefinition Width="173*" />
									</Grid.ColumnDefinitions>
									<TextBlock Text="Storage Resolution:" Grid.Row="0" Grid.Column="0" />
									<TextBlock Text="Pixel Aspect Ratio:" Grid.Row="1" Grid.Column="0" />
									<TextBlock Text="Display Resolution:" Grid.Row="2" Grid.Column="0" />

									<TextBlock Text="{Binding OutputSourceResolution}" Grid.Row="0" Grid.Column="2" />
									<TextBlock Text="{Binding OutputPixelAspectRatio}" Grid.Row="1" Grid.Column="2" />
									<TextBlock Text="{Binding OutputDisplayResolution}" Grid.Row="2" Grid.Column="2" />
								</Grid>
							</Grid>
						</Border>
					</Grid>
					<TextBlock Grid.Column="1" Grid.RowSpan="3" Height="21" Margin="50,6.96,0,0" VerticalAlignment="Top" HorizontalAlignment="Left" Width="83"
						Text="Cropping"
						Style="{StaticResource SectionHeader}" />

					<RadioButton Height="16" Grid.Column="1" Grid.RowSpan="3"  HorizontalAlignment="Left" Margin="50,34,0,0" Name="radioButton1" VerticalAlignment="Top" Width="120"
						IsChecked="{Binding CustomCropping, Converter={StaticResource InverseBoolConverter}}">Automatic</RadioButton>
					<RadioButton Height="16" Grid.Column="1" Grid.RowSpan="3"  HorizontalAlignment="Left" Margin="50,56,0,0" Name="radioButton2" VerticalAlignment="Top" Width="120"
						IsChecked="{Binding CustomCropping}">Custom</RadioButton>
					<Grid Margin="45.434,70,0,0" Name="grid4" Grid.Column="1" Height="139.04" VerticalAlignment="Top" Grid.RowSpan="3" HorizontalAlignment="Left" Width="210">
						<controls:NumberBox Height="23" Margin="78,30,0,0" VerticalAlignment="Top" HorizontalAlignment="Left" Width="36"
							Number="{Binding CropTop, Mode=TwoWay}" AllowEmpty="False"
							IsEnabled="{Binding CustomCropping}"/>
						<controls:NumberBox Margin="120,56,0,0" Height="22.96" VerticalAlignment="Top" HorizontalAlignment="Left" Width="36"
							Number="{Binding CropRight, Mode=TwoWay}" AllowEmpty="False"
							IsEnabled="{Binding CustomCropping}"/>
						<controls:NumberBox Margin="37,56,0,0" HorizontalAlignment="Left" Width="36" Height="23" VerticalAlignment="Top"
							Number="{Binding CropLeft, Mode=TwoWay}" AllowEmpty="False"
							IsEnabled="{Binding CustomCropping}"/>
						<controls:NumberBox Height="23" Margin="78,80,0,0" VerticalAlignment="Top" HorizontalAlignment="Left" Width="36"
							Number="{Binding CropBottom, Mode=TwoWay}" AllowEmpty="False"
							IsEnabled="{Binding CustomCropping}"/>
						<Label Height="28" Margin="81,6,0,0" Name="label7" VerticalAlignment="Top" HorizontalAlignment="Left" Width="38.019">Top</Label>
						<Label Margin="7,54,0,0" Name="label8" HorizontalAlignment="Left" Width="33" Height="28" VerticalAlignment="Top">Left</Label>
						<Label Height="28" Margin="71,98.96,0,0" Name="label9" VerticalAlignment="Top" HorizontalAlignment="Left" Width="53.566">Bottom</Label>
						<Label HorizontalAlignment="Left" Margin="155.64,54,0,0" Name="label10" Width="53.36" Height="28.225" VerticalAlignment="Top">Right</Label>
					</Grid>
				</Grid>
			</TabItem>
			<TabItem Header="Video Filters">
				<Grid>
					<Grid HorizontalAlignment="Left" VerticalAlignment="Top" Margin="15,16,0,121" Name="grid5" Width="290">
						<Grid.RowDefinitions>
							<RowDefinition />
							<RowDefinition />
							<RowDefinition />
							<RowDefinition />
							<RowDefinition />
							<RowDefinition />
						</Grid.RowDefinitions>
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="Auto" />
							<ColumnDefinition Width="Auto" />
							<ColumnDefinition />
						</Grid.ColumnDefinitions>
						
						<Label Grid.Row="0" Grid.Column="0">Detelecine:</Label>
						<ComboBox Grid.Row="0" Grid.Column="1"
							Style="{StaticResource NormalComboBox}"
							ItemsSource="{Binding DisplayNames, Source={StaticResource DetelecineChoices}}"
							SelectedValue="{Binding Detelecine, Converter={StaticResource DetelecineChoices}}"/>
						<TextBox Grid.Row="0" Grid.Column="2"
							Text="{Binding CustomDetelecine}"
							Visibility="{Binding CustomDetelecineVisible, Converter={StaticResource VisibilityConverter}}"
							Style="{StaticResource CustomFilterBox}" />

						<Label Grid.Row="1" Grid.Column="0">Decomb:</Label>
						<ComboBox Grid.Row="1" Grid.Column="1"
							Style="{StaticResource NormalComboBox}"
							ItemsSource="{Binding DisplayNames, Source={StaticResource DecombChoices}}"
							SelectedValue="{Binding Decomb, Converter={StaticResource DecombChoices}}"/>
						<TextBox Grid.Row="1" Grid.Column="2"
							Text="{Binding CustomDecomb}"
							Visibility="{Binding CustomDecombVisible, Converter={StaticResource VisibilityConverter}}"
							Style="{StaticResource CustomFilterBox}" />

						<Label Grid.Row="2" Grid.Column="0">Deinterlace:</Label>
						<ComboBox Grid.Row="2" Grid.Column="1"
							Style="{StaticResource NormalComboBox}"
							ItemsSource="{Binding DisplayNames, Source={StaticResource DeinterlaceChoices}}"
							SelectedValue="{Binding Deinterlace, Converter={StaticResource DeinterlaceChoices}}"/>
						<TextBox Grid.Row="2" Grid.Column="2"
							Text="{Binding CustomDeinterlace}"
							Visibility="{Binding CustomDeinterlaceVisible, Converter={StaticResource VisibilityConverter}}"
							Style="{StaticResource CustomFilterBox}" />

						<Label Grid.Row="3" Grid.Column="0">Denoise:</Label>
						<ComboBox Grid.Row="3" Grid.Column="1"
							Style="{StaticResource NormalComboBox}"
							ItemsSource="{Binding DisplayNames, Source={StaticResource DenoiseChoices}}"
							SelectedValue="{Binding Denoise, Converter={StaticResource DenoiseChoices}}"/>
						<TextBox Grid.Row="3" Grid.Column="2"
							Text="{Binding CustomDenoise}"
							Visibility="{Binding CustomDenoiseVisible, Converter={StaticResource VisibilityConverter}}"
							Style="{StaticResource CustomFilterBox}" />

						<Label Grid.Row="4" Grid.Column="0">Deblock:</Label>
						<StackPanel Orientation="Horizontal" Grid.Row="4" Grid.Column="1" Grid.ColumnSpan="2">
							<TextBlock Width="28" VerticalAlignment="Center" TextAlignment="Center" Text="{Binding DeblockText}" />
							<Slider Value="{Binding Deblock}" Width="155" Minimum="4" Maximum="15" IsSnapToTickEnabled="True" TickFrequency="1" TickPlacement="BottomRight" />
						</StackPanel>

						<CheckBox Grid.Row="5" Grid.Column="1" Grid.ColumnSpan="2" Margin="3" Content="Grayscale encoding" IsChecked="{Binding Grayscale}" />
					</Grid>
				</Grid>
			</TabItem>
			<TabItem Header="Video">
				<Grid>
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="270" />
						<ColumnDefinition />
					</Grid.ColumnDefinitions>
					<Grid.RowDefinitions>
						<RowDefinition Height="Auto" />
						<RowDefinition />
					</Grid.RowDefinitions>
					<Grid Grid.Row="0" Grid.Column="0" Visibility="{Binding HasSourceData, Converter={StaticResource VisibilityConverter}}">
						<Border
							Margin="30,3,0,0" VerticalAlignment="Top" HorizontalAlignment="Left" Width="200"
							Style="{StaticResource InputOutputInfoSection}"
							Background="{StaticResource InputBrush}" Effect="{StaticResource InfoBoxShadow}">
							<Grid>
								<TextBlock Height="21" Width="38" HorizontalAlignment="Left" Margin="2,0,0,0" VerticalAlignment="Top" Text="Input" Style="{StaticResource SectionHeader}" />
								<Grid Margin="50,0,0,0">
									<Grid.RowDefinitions>
										<RowDefinition Height="Auto" />
										<RowDefinition Height="Auto" />
										<RowDefinition Height="Auto" />
									</Grid.RowDefinitions>
									<Grid.ColumnDefinitions>
										<ColumnDefinition Width="Auto" />
										<ColumnDefinition Width="8" />
										<ColumnDefinition Width="173*" />
									</Grid.ColumnDefinitions>
									<TextBlock Text="Type:" Grid.Row="0" Grid.Column="0" />
									<TextBlock Text="Codec:" Grid.Row="1" Grid.Column="0" />
									<TextBlock Text="Framerate:" Grid.Row="2" Grid.Column="0" />

									<TextBlock Text="{Binding InputType}" Grid.Row="0" Grid.Column="2" />
									<TextBlock Text="{Binding InputVideoCodec}" Grid.Row="1" Grid.Column="2" />
									<TextBlock Text="{Binding InputFramerate}" Grid.Row="2" Grid.Column="2" />
								</Grid>
							</Grid>
						</Border>
					</Grid>
					<Grid Grid.Row="1">
						<TextBlock Height="21" HorizontalAlignment="Left" Margin="21,12,0,0" Name="textBlock1" VerticalAlignment="Top" Width="63"
							Text="Video"
							Style="{StaticResource SectionHeader}"/>

						<Label Height="28" HorizontalAlignment="Left" Margin="21,38.961,0,0" Name="label6" VerticalAlignment="Top" Width="102">Video Codec:</Label>
						<Label Height="28" HorizontalAlignment="Left" Margin="21,73,0,0" Name="label13" VerticalAlignment="Top" Width="102">Framerate (FPS):</Label>
						<ComboBox Height="23" HorizontalAlignment="Left" Margin="123.876,43.956,0,0" VerticalAlignment="Top" Width="122"
							ItemsSource="{Binding EncoderChoices}"
							SelectedItem="{Binding SelectedEncoder}"
							DisplayMemberPath="Display" />
						<ComboBox Height="23" HorizontalAlignment="Left" Margin="123.876,78,0,0" VerticalAlignment="Top" Width="122"
							ItemsSource="{Binding FramerateChoices}"
							SelectedItem="{Binding SelectedFramerate}">
							<ComboBox.ItemTemplate>
								<DataTemplate>
									<TextBlock Text="{Binding Converter={StaticResource FramerateDisplayConverter}}" />
								</DataTemplate>
							</ComboBox.ItemTemplate>
						</ComboBox>

						<CheckBox
							Content="2-pass Encoding"
							Height="16" HorizontalAlignment="Left" Margin="124,143,0,0" VerticalAlignment="Top"
							IsChecked="{Binding TwoPassEncoding}"
							IsEnabled="{Binding TwoPassEncodingEnabled}"/>
						<CheckBox
							Content="Turbo first Pass"
							Height="16" HorizontalAlignment="Left" Margin="145,166,0,0" VerticalAlignment="Top"
							IsChecked="{Binding TurboFirstPass}"
							IsEnabled="{Binding TurboFirstPassEnabled}"/>
						<CheckBox
							Content="Peak Framerate (VFR)"
							Height="16" HorizontalAlignment="Left" Margin="124,109,0,0" VerticalAlignment="Top"
							IsChecked="{Binding PeakFramerate}"
							Visibility="{Binding PeakFramerateVisible, Converter={StaticResource VisibilityConverter}}"/>
					</Grid>
					<Grid Grid.Column="1" Grid.Row="0" Grid.RowSpan="2">
						<TextBlock Height="21" Margin="15,12,0,0" Name="textBlock3" VerticalAlignment="Top"
							Text="Quality"
							Style="{StaticResource SectionHeader}" HorizontalAlignment="Left" Width="66" />

						<RadioButton Height="16" Margin="20,39,0,0" VerticalAlignment="Top" HorizontalAlignment="Left" Width="120" GroupName="VideoQuality"
							IsChecked="{Binding VideoEncodeRateType, Converter={StaticResource EnumBoolConverter}, ConverterParameter=TargetSize}">Target Size (MB):</RadioButton>
						<controls:NumberBox Height="23" HorizontalAlignment="Left" Margin="146,36,0,0" VerticalAlignment="Top" Width="62"
							Number="{Binding TargetSize, Mode=TwoWay}"
							AllowEmpty="False" IsEnabled="{Binding VideoEncodeRateType, Converter={StaticResource EnumBoolConverter}, ConverterParameter=TargetSize}" />

						<RadioButton Height="16" Margin="20,66.6,0,0" VerticalAlignment="Top" HorizontalAlignment="Left" Width="120" GroupName="VideoQuality"
							IsChecked="{Binding VideoEncodeRateType, Converter={StaticResource EnumBoolConverter}, ConverterParameter=AverageBitrate}">Avg Bitrate (kbps):</RadioButton>
						<controls:NumberBox Height="23" HorizontalAlignment="Left" Margin="146,65,0,0" VerticalAlignment="Top" Width="62"
							Number="{Binding VideoBitrate, Mode=TwoWay}"
							AllowEmpty="False" IsEnabled="{Binding VideoEncodeRateType, Converter={StaticResource EnumBoolConverter}, ConverterParameter=AverageBitrate}" />

						<RadioButton Height="16" Margin="20,99,0,0" VerticalAlignment="Top" HorizontalAlignment="Left" Width="120" GroupName="VideoQuality"
							IsChecked="{Binding VideoEncodeRateType, Converter={StaticResource EnumBoolConverter}, ConverterParameter=ConstantQuality}">Constant Quality:</RadioButton>
						<controls:DoubleNumberBox Height="23" HorizontalAlignment="Left" Margin="146,94,0,0" VerticalAlignment="Top" Width="49"
							Number="{Binding Quality, Mode=TwoWay}" Minimum="0" Maximum="51"
							IsEnabled="{Binding VideoEncodeRateType, Converter={StaticResource EnumBoolConverter}, ConverterParameter=ConstantQuality}"/>
						<Slider Height="22" Margin="20,121,6,0" VerticalAlignment="Top"
							TickPlacement="BottomRight" Minimum="{Binding QualitySliderMin}" Maximum="{Binding QualitySliderMax}" TickFrequency="1" IsSnapToTickEnabled="True"
							Value="{Binding Quality}"
							IsEnabled="{Binding VideoEncodeRateType, Converter={StaticResource EnumBoolConverter}, ConverterParameter=ConstantQuality}"/>
						<TextBlock Height="21" Margin="20.2,149,0,0" VerticalAlignment="Top" HorizontalAlignment="Left" Width="90.8" TextAlignment="Left"
							Text="{Binding QualitySliderLeftText}"/>
						<TextBlock Height="21" HorizontalAlignment="Right" Margin="0,149,6,0" VerticalAlignment="Top" Width="93" TextAlignment="Right"
							Text="{Binding QualitySliderRightText}"/>
					</Grid>
				</Grid>
			</TabItem>
			<TabItem Header="Audio">
				<Grid>
					<StackPanel Orientation="Vertical" Margin="6,15,0,0" VerticalAlignment="Top">
						<ListView
							Name="audioList"
							ItemsSource="{Binding AudioEncodings}">
							<ListView.View>
								<GridView>
									<GridView.Columns>
										<GridViewColumn Header="Target Stream" CellTemplate="{StaticResource TargetStreamTemplate}" x:Name="targetStreamColumn" />
										<GridViewColumn Header="Codec" CellTemplate="{StaticResource AudioCodecTemplate}" x:Name="codecColumn" />
										<GridViewColumn Width="137" Header="Mixdown" CellTemplate="{StaticResource MixdownTemplate}" x:Name="mixdownColumn" />
										<GridViewColumn Width="120" Header="Sample Rate" CellTemplate="{StaticResource SampleRateTemplate}" />
										<GridViewColumn Width="62" Header="Bitrate" CellTemplate="{StaticResource BitrateTemplate}" />
										<!--<GridViewColumn Header="DRC" CellTemplate="{StaticResource DrcTemplate}" />-->
										<!--<GridViewColumn Header="Name" Width="90" CellTemplate="{StaticResource NameTemplate}" />-->
										<GridViewColumn CellTemplate="{StaticResource RemoveAudioTemplate}" />
									</GridView.Columns>
								</GridView>
							</ListView.View>
						</ListView>
						<Button HorizontalAlignment="Left" Margin="0,6,0,0" Height="23" Width="121"
							Command="{Binding AddAudioEncodingCommand}">Add audio encoding</Button>
						<Grid HorizontalAlignment="Left" Margin="0,10,0,0"
							Visibility="{Binding HasSourceData, Converter={StaticResource VisibilityConverter}}">
							<Border
								Margin="0,0,0,0"
								Background="{StaticResource OutputBrush}"
								Style="{StaticResource InputOutputInfoSection}"
								Effect="{StaticResource InfoBoxShadow}">
								<Grid Margin="2">
									<TextBlock
										HorizontalAlignment="Left" VerticalAlignment="Top" Margin="2,0,0,0"
										Style="{StaticResource SectionHeader}"
										Text="Output" />
									<StackPanel Orientation="Vertical" Margin="0,20,0,0">
										<TextBlock
										Text="(No tracks)"
										Style="{StaticResource DescriptiveText}"
										Visibility="{Binding HasAudioTracks, Converter={StaticResource VisibilityConverter}, ConverterParameter=True}"/>
										<ItemsControl ItemsSource="{Binding AudioOutputPreviews}" Grid.IsSharedSizeScope="True"
											Visibility="{Binding HasAudioTracks, Converter={StaticResource VisibilityConverter}}">
											<ItemsControl.ItemTemplate>
												<DataTemplate>
													<Grid>
														<Grid.ColumnDefinitions>
															<ColumnDefinition Width="*" SharedSizeGroup="TrackNumber"/>
															<ColumnDefinition Width="*" SharedSizeGroup="TrackName"/>
															<ColumnDefinition Width="*" SharedSizeGroup="Encoder"/>
															<ColumnDefinition Width="*" SharedSizeGroup="Mixdown"/>
															<ColumnDefinition Width="*" SharedSizeGroup="SampleRate"/>
															<ColumnDefinition Width="*" SharedSizeGroup="Bitrate"/>
														</Grid.ColumnDefinitions>

														<TextBlock Grid.Column="0" Text="{Binding TrackNumber}" Style="{StaticResource AudioOutputPreview}"/>
														<TextBlock Grid.Column="1" Text="{Binding Name}" Style="{StaticResource AudioOutputPreview}"/>
														<TextBlock Grid.Column="2" Text="{Binding Encoder}" Style="{StaticResource AudioOutputPreview}"/>
														<TextBlock Grid.Column="3" Text="{Binding Mixdown}" Style="{StaticResource AudioOutputPreview}"/>
														<TextBlock Grid.Column="4" Text="{Binding SampleRate}" Style="{StaticResource AudioOutputPreview}"/>
														<TextBlock Grid.Column="5" Text="{Binding Bitrate}" Style="{StaticResource AudioOutputPreview}"/>
													</Grid>
												</DataTemplate>
											</ItemsControl.ItemTemplate>
										</ItemsControl>
									</StackPanel>
								</Grid>
							</Border>
						</Grid>
					</StackPanel>
				</Grid>
			</TabItem>
			<TabItem Header="Advanced">
				<Grid>
					<TextBlock Height="21" Width="162" HorizontalAlignment="Left" Margin="6,3,0,0" VerticalAlignment="Top" Text="Encoding" Style="{StaticResource SectionHeader}" />
					<Grid HorizontalAlignment="Left" Margin="0,23,0,0" VerticalAlignment="Top" Width="232">
						<Grid.RowDefinitions>
							<RowDefinition Height="Auto" />
							<RowDefinition Height="Auto" />
							<RowDefinition Height="Auto" />
							<RowDefinition Height="Auto" />
							<RowDefinition Height="Auto" />
							<RowDefinition Height="Auto" />
							<RowDefinition Height="Auto" />
							<RowDefinition Height="Auto" />
						</Grid.RowDefinitions>
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="Auto" />
							<ColumnDefinition />
						</Grid.ColumnDefinitions>
						
						<Label
							Content="Reference Frames:" Grid.Row="0" Grid.Column="0"
							Style="{StaticResource AdvancedLabel}" />
						<ComboBox
							Grid.Row="0" Grid.Column="1" Height="22"
							ItemsSource="{x:Static vm:AdvancedChoices.ReferenceFrames}"
							DisplayMemberPath="Label"
							SelectedItem="{Binding ReferenceFrames}"
							Style="{StaticResource AdvancedToolTipHolder}">
							<ComboBox.ToolTip>
								<TextBlock Text="{x:Static resx:Resources.Advanced_ReferenceFramesToolTip}" Style="{StaticResource AdvancedToolTip}" />
							</ComboBox.ToolTip>
						</ComboBox>

						<Label
							Content="Maximum B-Frames:" Grid.Row="1" Grid.Column="0"
							Style="{StaticResource AdvancedLabel}"/>
						<ComboBox
							Grid.Row="1" Grid.Column="1" Height="22"
							ItemsSource="{x:Static vm:AdvancedChoices.BFrames}"
							DisplayMemberPath="Label"
							SelectedItem="{Binding BFrames}"
							Style="{StaticResource AdvancedToolTipHolder}">
							<ComboBox.ToolTip>
								<TextBlock Text="{x:Static resx:Resources.Advanced_BFramesToolTip}" Style="{StaticResource AdvancedToolTip}" />
							</ComboBox.ToolTip>
						</ComboBox>



						<Label
							Content="CABAC:" Height="28" Grid.Row="4" Grid.Column="0"
							Style="{StaticResource AdvancedLabel}"/>
						<CheckBox
							Height="16" Grid.Row="4" Grid.Column="1"
							IsChecked="{Binding CabacEntropyCoding}"
							Style="{StaticResource AdvancedToolTipHolder}">
							<CheckBox.ToolTip>
								<TextBlock Text="{x:Static resx:Resources.Advanced_CabacToolTip}" Style="{StaticResource AdvancedToolTip}" />
							</CheckBox.ToolTip>
						</CheckBox>

						<Label
							Content="8x8 Transform:" Height="28" Grid.Row="5" Grid.Column="0"
							Visibility="{Binding EightByEightDctVisible, Converter={StaticResource VisibilityConverter}}"
							Style="{StaticResource AdvancedLabel}"/>
						<CheckBox
							Height="16" Grid.Row="5" Grid.Column="1"
							IsChecked="{Binding EightByEightDct}"
							Visibility="{Binding EightByEightDctVisible, Converter={StaticResource VisibilityConverter}}"
							Style="{StaticResource AdvancedToolTipHolder}">
							<CheckBox.ToolTip>
								<TextBlock Text="{x:Static resx:Resources.Advanced_EightByEightDctToolTip}" Style="{StaticResource AdvancedToolTip}" />
							</CheckBox.ToolTip>
						</CheckBox>

						<Label
							Content="Weighted P-Frames:" Grid.Row="6" Grid.Column="0"
							Style="{StaticResource AdvancedLabel}"/>
						<CheckBox
							Grid.Row="6" Grid.Column="1" VerticalAlignment="Center"
							IsChecked="{Binding WeightedPFrames}"
							Style="{StaticResource AdvancedToolTipHolder}">
							<CheckBox.ToolTip>
								<TextBlock Text="{x:Static resx:Resources.Advanced_WeightPToolTip}" Style="{StaticResource AdvancedToolTip}" />
							</CheckBox.ToolTip>
						</CheckBox>

						<Label
							Content="Pyramidal B-Frames:" Grid.Row="7" Grid.Column="0"
							Visibility="{Binding PyramidalBFramesVisible, Converter={StaticResource VisibilityConverter}}"
							Style="{StaticResource AdvancedLabel}"/>
						<ComboBox
							Grid.Row="7" Grid.Column="1" Height="22"
							ItemsSource="{x:Static vm:AdvancedChoices.PyramidalBFrames}"
							DisplayMemberPath="Label"
							SelectedItem="{Binding PyramidalBFrames}"
							Visibility="{Binding PyramidalBFramesVisible, Converter={StaticResource VisibilityConverter}}"
							Style="{StaticResource AdvancedToolTipHolder}">
							<ComboBox.ToolTip>
								<TextBlock Text="{x:Static resx:Resources.Advanced_PyramidalBFramesToolTip}" Style="{StaticResource AdvancedToolTip}" />
							</ComboBox.ToolTip>
						</ComboBox>
					</Grid>

					<TextBlock Height="21" Width="162" HorizontalAlignment="Left" Margin="6,194,0,0" VerticalAlignment="Top" Text="Psychovisual" Style="{StaticResource SectionHeader}" />
					<Label
						Content="No DCT-Decimate:"
						Margin="29,209,0,0" HorizontalAlignment="Left" Width="109" Height="26" VerticalAlignment="Top"/>
					<CheckBox
						VerticalAlignment="Top" Margin="142,216,0,0" HorizontalAlignment="Left"
						IsChecked="{Binding NoDctDecimate}"
						Style="{StaticResource AdvancedToolTipHolder}">
						<CheckBox.ToolTip>
							<TextBlock Text="{x:Static resx:Resources.Advanced_NoDctDecimateToolTip}" Style="{StaticResource AdvancedToolTip}" />
						</CheckBox.ToolTip>
					</CheckBox>

					<TextBlock Height="21" Width="162" HorizontalAlignment="Left" Margin="244,3,0,0" VerticalAlignment="Top" Text="Analysis" Style="{StaticResource SectionHeader}" />
					<Grid HorizontalAlignment="Left" Margin="239,20,0,0" VerticalAlignment="Top" Width="318">
						<Grid.RowDefinitions>
							<RowDefinition Height="Auto" />
							<RowDefinition Height="Auto" />
							<RowDefinition Height="Auto" />
							<RowDefinition Height="Auto" />
							<RowDefinition Height="Auto" />
						</Grid.RowDefinitions>
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="Auto" />
							<ColumnDefinition />
						</Grid.ColumnDefinitions>

						<Label
							Content="Adaptive B-Frames:" Grid.Row="0" Grid.Column="0"
							Visibility="{Binding BFramesOptionsVisible, Converter={StaticResource VisibilityConverter}}"
							Style="{StaticResource AdvancedLabel}"/>
						<ComboBox
							Grid.Row="0" Grid.Column="1" Height="22"
							ItemsSource="{x:Static vm:AdvancedChoices.AdaptiveBFrames}"
							DisplayMemberPath="Label"
							SelectedItem="{Binding AdaptiveBFrames}"
							Visibility="{Binding BFramesOptionsVisible, Converter={StaticResource VisibilityConverter}}"
							Style="{StaticResource AdvancedToolTipHolder}">
							<ComboBox.ToolTip>
								<TextBlock Text="{x:Static resx:Resources.Advanced_AdaptiveBFramesToolTip}" Style="{StaticResource AdvancedToolTip}" />
							</ComboBox.ToolTip>
						</ComboBox>

						<Label
							Content="Adaptive Direct Mode:" Grid.Row="1" Grid.Column="0"
							Visibility="{Binding BFramesOptionsVisible, Converter={StaticResource VisibilityConverter}}"
							Style="{StaticResource AdvancedLabel}"/>
						<ComboBox
							Grid.Row="1" Grid.Column="1" Height="22"
							ItemsSource="{x:Static vm:AdvancedChoices.DirectPrediction}"
							DisplayMemberPath="Label"
							SelectedItem="{Binding DirectPrediction}"
							Visibility="{Binding BFramesOptionsVisible, Converter={StaticResource VisibilityConverter}}"
							Style="{StaticResource AdvancedToolTipHolder}">
							<ComboBox.ToolTip>
								<TextBlock Text="{x:Static resx:Resources.Advanced_AdaptiveDirectModeToolTip}" Style="{StaticResource AdvancedToolTip}" />
							</ComboBox.ToolTip>
						</ComboBox>

						<Label
							Content="Motion Estimation Method:" Grid.Row="2" Grid.Column="0"
							Style="{StaticResource AdvancedLabel}"/>
						<ComboBox
							Grid.Row="2" Grid.Column="1" Height="22"
							ItemsSource="{x:Static vm:AdvancedChoices.MotionEstimationMethod}"
							DisplayMemberPath="Label"
							SelectedItem="{Binding MotionEstimationMethod}"
							Style="{StaticResource AdvancedToolTipHolder}">
							<ComboBox.ToolTip>
								<TextBlock Text="{x:Static resx:Resources.Advanced_MotionEstimationMethodToolTip}" Style="{StaticResource AdvancedToolTip}" />
							</ComboBox.ToolTip>
						</ComboBox>

						<Label
							Content="Subpixel Motion Estimation:" Grid.Row="3" Grid.Column="0"
							Style="{StaticResource AdvancedLabel}"/>
						<ComboBox
							Grid.Row="3" Grid.Column="1" Height="22"
							ItemsSource="{x:Static vm:AdvancedChoices.SubpixelMotionEstimation}"
							DisplayMemberPath="Label"
							SelectedItem="{Binding SubpixelMotionEstimation}"
							Style="{StaticResource AdvancedToolTipHolder}">
							<ComboBox.ToolTip>
								<TextBlock Text="{x:Static resx:Resources.Advanced_SubpixelMotionEstimationToolTip}" Style="{StaticResource AdvancedToolTip}" />
							</ComboBox.ToolTip>
						</ComboBox>

						<Label
							Content="Motion Estimation Range:" Grid.Row="4" Grid.Column="0"
							Visibility="{Binding MotionEstimationRangeVisible, Converter={StaticResource VisibilityConverter}}"
							Style="{StaticResource AdvancedLabel}"/>
						<ComboBox
							Grid.Row="4" Grid.Column="1" Height="22"
							ItemsSource="{x:Static vm:AdvancedChoices.MotionEstimationRange}"
							DisplayMemberPath="Label"
							SelectedItem="{Binding MotionEstimationRange}"
							Visibility="{Binding MotionEstimationRangeVisible, Converter={StaticResource VisibilityConverter}}"
							Style="{StaticResource AdvancedToolTipHolder}">
							<ComboBox.ToolTip>
								<TextBlock Text="{x:Static resx:Resources.Advanced_MotionEstimationRangeToolTip}" Style="{StaticResource AdvancedToolTip}" />
							</ComboBox.ToolTip>
						</ComboBox>
					</Grid>
					
					<Label Content="Partition Type:" Height="28" HorizontalAlignment="Right" Margin="0,232,111,0" Name="label14" VerticalAlignment="Top" />
					<ComboBox
						Height="23" HorizontalAlignment="Right" Margin="0,233,5,0" VerticalAlignment="Top" Width="106"
						ItemsSource="{x:Static vm:AdvancedChoices.Analysis}"
						DisplayMemberPath="Label"
						SelectedItem="{Binding Analysis}"
						Style="{StaticResource AdvancedToolTipHolder}">
						<ComboBox.ToolTip>
							<TextBlock Text="{x:Static resx:Resources.Advanced_AnalysisToolTip}" Style="{StaticResource AdvancedToolTip}" />
						</ComboBox.ToolTip>
					</ComboBox>

					<Label
						Content="Trellis:" Height="28" HorizontalAlignment="Right" Margin="0,259,152,0" Name="label17" VerticalAlignment="Top" />
					<ComboBox
						Height="23" HorizontalAlignment="Right" Margin="0,260,5,0" VerticalAlignment="Top" Width="141"
						ItemsSource="{x:Static vm:AdvancedChoices.Trellis}"
						DisplayMemberPath="Label"
						SelectedItem="{Binding Trellis}"
						Style="{StaticResource AdvancedToolTipHolder}">
						<ComboBox.ToolTip>
							<TextBlock Text="{x:Static resx:Resources.Advanced_TrellisToolTip}" Style="{StaticResource AdvancedToolTip}" />
						</ComboBox.ToolTip>
					</ComboBox>

					<Grid Height="80" HorizontalAlignment="Left" Margin="241,152,0,0" VerticalAlignment="Top" Width="316">
						<Grid.RowDefinitions>
							<RowDefinition Height="Auto" />
							<RowDefinition Height="Auto" />
							<RowDefinition Height="Auto" />
						</Grid.RowDefinitions>
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="Auto" />
							<ColumnDefinition />
						</Grid.ColumnDefinitions>
						<Label
							Content="Adaptive Quantization Strength:" Grid.Row="0" Grid.Column="0"
							Style="{StaticResource AdvancedLabel}"/>
						<Slider
							Grid.Row="0" Grid.Column="1"
							Minimum="0.0" Maximum="2.0" TickPlacement="BottomRight" TickFrequency="0.1" IsSnapToTickEnabled="True"
							Value="{Binding AdaptiveQuantizationStrength}"
							Style="{StaticResource AdvancedToolTipHolder}">
							<Slider.ToolTip>
								<TextBlock Text="{x:Static resx:Resources.Advanced_AdaptiveQuantizationStrengthToolTip}" Style="{StaticResource AdvancedToolTip}" />
							</Slider.ToolTip>
						</Slider>

						<Label
							Content="Psychovisual Rate Distortion:" Grid.Row="1" Grid.Column="0"
							Style="{StaticResource AdvancedLabel}"/>
						<Slider
							Grid.Row="1" Grid.Column="1"
							Minimum="0.0" Maximum="2.0" TickPlacement="BottomRight" TickFrequency="0.1" IsSnapToTickEnabled="True"
							Value="{Binding PsychovisualRateDistortion}"
							Style="{StaticResource AdvancedToolTipHolder}">
							<Slider.ToolTip>
								<TextBlock Text="{x:Static resx:Resources.Advanced_PsychovisualRateDistortionToolTip}" Style="{StaticResource AdvancedToolTip}" />
							</Slider.ToolTip>
						</Slider>

						<Label
							Content="Psychovisual Trellis:" Grid.Row="2" Grid.Column="0"
							Visibility="{Binding PsychovisualTrellisVisible, Converter={StaticResource VisibilityConverter}}"
							Style="{StaticResource AdvancedLabel}"/>
						<Slider
							Grid.Row="2" Grid.Column="1"
							Minimum="0.0" Maximum="1.0" TickPlacement="BottomRight" TickFrequency="0.05" IsSnapToTickEnabled="True"
							Value="{Binding PsychovisualTrellis}"
							Visibility="{Binding PsychovisualTrellisVisible, Converter={StaticResource VisibilityConverter}}"
							Style="{StaticResource AdvancedToolTipHolder}">
							<Slider.ToolTip>
								<TextBlock Text="{x:Static resx:Resources.Advanced_PsychovisualTrellisToolTip}" Style="{StaticResource AdvancedToolTip}" />
							</Slider.ToolTip>
						</Slider>
					</Grid>
					<Label Content="Deblocking:" Height="28" HorizontalAlignment="Right" Margin="0,230,292,0" VerticalAlignment="Top" />
					<ComboBox
						Height="23" HorizontalAlignment="Right" Margin="0,233,207,0" VerticalAlignment="Top" Width="83"
						ItemsSource="{x:Static vm:AdvancedChoices.DeblockingStrength}"
						DisplayMemberPath="Label"
						SelectedItem="{Binding DeblockingStrength}"
						Style="{StaticResource AdvancedToolTipHolder}">
						<ComboBox.ToolTip>
							<TextBlock Text="{x:Static resx:Resources.Advanced_DeblockingToolTip}" Style="{StaticResource AdvancedToolTip}" />
						</ComboBox.ToolTip>
					</ComboBox>
					<ComboBox
						Height="23" HorizontalAlignment="Right" Margin="0,260,207,0" VerticalAlignment="Top" Width="83"
						ItemsSource="{x:Static vm:AdvancedChoices.DeblockingThreshold}"
						DisplayMemberPath="Label"
						SelectedItem="{Binding DeblockingThreshold}"
						Style="{StaticResource AdvancedToolTipHolder}">
						<ComboBox.ToolTip>
							<TextBlock Text="{x:Static resx:Resources.Advanced_DeblockingToolTip}" Style="{StaticResource AdvancedToolTip}" />
						</ComboBox.ToolTip>
					</ComboBox>
					
					<Label Content="Options String" Height="28" HorizontalAlignment="Left" Margin="7,262,0,0" VerticalAlignment="Top" />
					<TextBox
						Margin="0,288,0,0"
						Text="{Binding AdvancedOptionsString, UpdateSourceTrigger=PropertyChanged}" TextWrapping="Wrap" />
				</Grid>
			</TabItem>
		</TabControl>

	</Grid>
</Window>
