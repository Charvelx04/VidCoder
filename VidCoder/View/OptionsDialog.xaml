<Window 
	x:Class="VidCoder.View.OptionsDialog"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:Model="clr-namespace:VidCoder.Model" Title="{x:Static res:OptionsRes.OptionsDialogTitle}" Height="549" Width="576"
	xmlns:prop="clr-namespace:VidCoder.Properties"
	xmlns:res="clr-namespace:VidCoder.Resources" 
	Style="{StaticResource NormalWindow}" WindowStartupLocation="CenterOwner" xmlns:my="clr-namespace:VidCoder.Controls"
	xmlns:converters="clr-namespace:VidCoder.Converters" Closed="Window_Closed"
	TextOptions.TextFormattingMode="Display"
	MinWidth="450" MinHeight="300"
	Closing="Window_Closing" Background="White">
	<Window.Resources>
		<Style x:Key="EmphasizedTitle" TargetType="TextBlock">
			<Setter Property="VerticalAlignment" Value="Center" />
			<Setter Property="Margin" Value="4,2,4,2" />
			<Setter Property="FontWeight" Value="Bold" />
		</Style>
		<Style x:Key="ConfigSectionStack" TargetType="StackPanel">
			<Setter Property="Margin" Value="20,0,0,20" />
			<Setter Property="Orientation" Value="Vertical" />
			<Setter Property="HorizontalAlignment" Value="Stretch" />
		</Style>
		<Style x:Key="ConfigSectionHeader" TargetType="TextBlock">
			<Setter Property="FontSize" Value="14" />
			<Setter Property="Margin" Value="0,0,0,6" />
			<Setter Property="HorizontalAlignment" Value="Left" />
		</Style>
		<converters:IntVisibilityConverter x:Key="IntVisibilityConverter" />
	</Window.Resources>
	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition />
			<RowDefinition Height="Auto" />
		</Grid.RowDefinitions>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="Auto" MinWidth="130" />
			<ColumnDefinition />
		</Grid.ColumnDefinitions>
		<Grid Background="WhiteSmoke" Grid.RowSpan="2">
			<ListBox
				ItemsSource="{Binding Tabs}" SelectedIndex="{Binding SelectedTabIndex}" BorderThickness="0" Background="Transparent">
				<ListBox.ItemTemplate>
					<DataTemplate>
						<TextBlock Margin="5" Text="{Binding}" FontSize="12">
							<TextBlock.Style>
								<Style TargetType="TextBlock">
									<Style.Triggers>
										<DataTrigger Binding="{Binding IsSelected, RelativeSource={RelativeSource AncestorType=ListBoxItem}}" Value="True">
											<Setter Property="FontWeight" Value="Bold" />
										</DataTrigger>
									</Style.Triggers>
								</Style>
							</TextBlock.Style>
						</TextBlock>
					</DataTemplate>
				</ListBox.ItemTemplate>
			</ListBox>
		</Grid>
		<Grid Margin="0,0,0,0" Grid.Column="1">
			<ScrollViewer 
				VerticalScrollBarVisibility="Auto" Background="White">
				<Grid
					Margin="15,8,10,5">
					<!-- General -->
					<StackPanel
						Orientation="Vertical"
						Visibility="{Binding SelectedTabIndex, Converter={StaticResource IntVisibilityConverter}, ConverterParameter=0}"
						VerticalAlignment="Top">

						<!-- Languages -->
						<TextBlock Text="{x:Static res:OptionsRes.LanguagesSection}" Style="{StaticResource ConfigSectionHeader}" />
						<StackPanel Style="{StaticResource ConfigSectionStack}">
							<StackPanel 
								Orientation="Horizontal">
								<TextBlock Text="{x:Static res:OptionsRes.InterfaceLanguageLabel}" VerticalAlignment="Center" />
								<ComboBox Height="23" MinWidth="100" Margin="6,0,0,0" ItemsSource="{Binding LanguageChoices}" DisplayMemberPath="Display" SelectedItem="{Binding InterfaceLanguage}" />
							</StackPanel>
						</StackPanel>

						<!-- Players -->
						<TextBlock Text="{x:Static res:OptionsRes.PlayersSection}" Style="{StaticResource ConfigSectionHeader}" />
						<StackPanel Style="{StaticResource ConfigSectionStack}">
							<StackPanel
								Orientation="Horizontal" HorizontalAlignment="Left">
								<TextBlock
									Text="{x:Static res:OptionsRes.PreferredDvdPlayerLabel}" VerticalAlignment="Center"
									ToolTip="{x:Static res:OptionsRes.PreferredDvdPlayerToolTip}"/>
								<ComboBox 
									Height="23" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="5,0,0,0"
									ItemsSource="{Binding PlayerChoices}"
									DisplayMemberPath="Display"
									SelectedItem="{Binding SelectedPlayer}"
									ToolTip="{x:Static res:OptionsRes.PreferredDvdPlayerToolTip}"/>
							</StackPanel>
							<TextBlock
								Text="{x:Static res:OptionsRes.VideoFilesLabel}" Margin="0,6,0,0" />
							<RadioButton
								Margin="20,6,0,0" HorizontalAlignment="Left"
								Content="{x:Static res:OptionsRes.UseSystemPlayer}"
								IsChecked="{Binding UseCustomVideoPlayer, Converter={StaticResource InverseBoolConverter}}" GroupName="customVideo1"/>
							<Grid HorizontalAlignment="Stretch" Margin="20,6,0,0" ToolTip="{x:Static res:OptionsRes.CustomVideoPlayerToolTip}">
								<Grid.ColumnDefinitions>
									<ColumnDefinition Width="Auto" />
									<ColumnDefinition />
									<ColumnDefinition Width="Auto" />
								</Grid.ColumnDefinitions>
								<RadioButton
									VerticalAlignment="Center" HorizontalAlignment="Left" Margin="0,0,6,0"
									Content="{x:Static res:OptionsRes.CustomPlayerLabel}"
									IsChecked="{Binding UseCustomVideoPlayer}" Style="{StaticResource GrayOnDisabledControl}" GroupName="customVideo1" />
								<TextBox
									Grid.Column="1" Height="22"
									VerticalAlignment="Top" VerticalContentAlignment="Center"
									Text="{Binding CustomVideoPlayer}"
									IsEnabled="{Binding UseCustomVideoPlayer}"/>
								<Button
									Grid.Column="2" Margin="6,0,0,0" Padding="3,2" VerticalAlignment="Center"
									Content="{x:Static res:CommonRes.Browse}"
									IsEnabled="{Binding UseCustomVideoPlayer}"
									Command="{Binding BrowseVideoPlayerCommand}"/>
							</Grid>
						</StackPanel>

						<!-- Sounds -->
						<TextBlock Text="{x:Static res:OptionsRes.SoundSection}" Style="{StaticResource ConfigSectionHeader}" />
						<StackPanel Style="{StaticResource ConfigSectionStack}">
							<CheckBox
								HorizontalAlignment="Left" Margin="0,0,0,4"
								IsChecked="{Binding PlaySoundOnCompletion}" Content="{x:Static res:OptionsRes.PlaySoundOnQueueCompletionCheckBox}" />
							<Grid HorizontalAlignment="Stretch" Margin="20,0,0,0">
								<Grid.ColumnDefinitions>
									<ColumnDefinition Width="Auto" />
									<ColumnDefinition />
									<ColumnDefinition Width="Auto" />
								</Grid.ColumnDefinitions>
								<CheckBox
									VerticalAlignment="Center" HorizontalAlignment="Left" Margin="0,0,6,0"
									Content="{x:Static res:OptionsRes.UseCustomWavLabel}"
									IsEnabled="{Binding PlaySoundOnCompletion}"
									IsChecked="{Binding UseCustomCompletionSound}" Style="{StaticResource GrayOnDisabledControl}" />
								<TextBox
									Grid.Column="1" Height="22"
									VerticalAlignment="Top" VerticalContentAlignment="Center"
									Text="{Binding CustomCompletionSound}"
									IsEnabled="{Binding UseCustomCompletionSound}"/>
								<Button
									Grid.Column="2" Margin="6,0,0,0" Padding="3,2" VerticalAlignment="Center"
									Content="{x:Static res:CommonRes.Browse}"
									IsEnabled="{Binding UseCustomCompletionSound}"
									Command="{Binding BrowseCompletionSoundCommand}"/>
							</Grid>
						</StackPanel>

						<!-- System tray -->
						<TextBlock Text="{x:Static res:OptionsRes.SystemTraySection}" Style="{StaticResource ConfigSectionHeader}" />
						<StackPanel Style="{StaticResource ConfigSectionStack}">
							<RadioButton
								Content="{x:Static res:OptionsRes.MinimizeToTaskBarRadioButton}" HorizontalAlignment="Left" Margin="0,0,0,4"
								IsChecked="{Binding MinimizeToTray, Converter={StaticResource InverseBoolConverter}}"
								GroupName="minimize1"/>
							<RadioButton
								Content="{x:Static res:OptionsRes.MinimizeToSystemTrayRadioButton}" HorizontalAlignment="Left"
								IsChecked="{Binding MinimizeToTray}"
								GroupName="minimize2"/>
						</StackPanel>
					</StackPanel>

					<!-- File naming -->
					<StackPanel
						Orientation="Vertical"
						Visibility="{Binding SelectedTabIndex, Converter={StaticResource IntVisibilityConverter}, ConverterParameter=1}"
						VerticalAlignment="Top">
						
						<!-- Output folder -->
						<TextBlock Text="{x:Static res:OptionsRes.OutputFolderSection}" Style="{StaticResource ConfigSectionHeader}" />
						<StackPanel Style="{StaticResource ConfigSectionStack}">
							<Grid>
								<Grid.ColumnDefinitions>
									<ColumnDefinition Width="Auto" />
									<ColumnDefinition />
									<ColumnDefinition Width="Auto" />
								</Grid.ColumnDefinitions>

								<TextBlock
									Grid.Column="0"
									HorizontalAlignment="Left" Margin="0,0,5,0" VerticalAlignment="Center"
									Text="{x:Static res:OptionsRes.DefaultFolderLabel}" />
								<TextBox
									Grid.Column="1"
									Height="23" VerticalAlignment="Center" VerticalContentAlignment="Center"
									Text="{Binding DefaultPath}" />
								<Button
									Grid.Column="2"
									Height="23" HorizontalAlignment="Right" Margin="5,0,8,0" VerticalAlignment="Top" MinWidth="75"
									Command="{Binding BrowsePathCommand}"
									Content="{x:Static res:CommonRes.Browse}" />
							</Grid>
							<CheckBox
								Content="{x:Static res:OptionsRes.OutputToSourceDirCheckBox}"
								Height="16" HorizontalAlignment="Left" Margin="0,6,0,0" VerticalAlignment="Top"
								IsChecked="{Binding OutputToSourceDirectory}"/>
						</StackPanel>

						<!-- Naming format -->
						<TextBlock Text="{x:Static res:OptionsRes.NamingFormatSection}" Style="{StaticResource ConfigSectionHeader}" />
						<StackPanel Style="{StaticResource ConfigSectionStack}">
							<RadioButton
								VerticalAlignment="Top" HorizontalAlignment="Left"
								IsChecked="{Binding CustomFormat, Converter={StaticResource InverseBoolConverter}}" Content="{x:Static res:OptionsRes.DefaultFormatRadioButton}" />
							<RadioButton
								Margin="0,6,0,0" VerticalAlignment="Top" HorizontalAlignment="Left"
								IsChecked="{Binding CustomFormat}" Content="{x:Static res:OptionsRes.CustomFormatRadioButton}" />
							<TextBox
								Margin="0,6,0,0" Height="23" VerticalAlignment="Top" VerticalContentAlignment="Center"
								Text="{Binding CustomFormatString}"
								IsEnabled="{Binding CustomFormatStringEnabled}" />
							<TextBlock 
								Margin="0,6,0,0" TextWrapping="Wrap" VerticalAlignment="Top" Text="{Binding AvailableOptionsText}" />
						</StackPanel>

						<!-- When file exists -->
						<TextBlock Text="{x:Static res:OptionsRes.WhenFileAlreadyExists}" Style="{StaticResource ConfigSectionHeader}" />
						<StackPanel Style="{StaticResource ConfigSectionStack}">
							<Grid HorizontalAlignment="Left" VerticalAlignment="Top">
								<Grid.ColumnDefinitions>
									<ColumnDefinition Width="Auto" />
									<ColumnDefinition Width="8" />
									<ColumnDefinition />
								</Grid.ColumnDefinitions>

								<TextBlock HorizontalAlignment="Left" Margin="0,0,0,0" Text="{x:Static res:OptionsRes.EncodingSingleFile}" VerticalAlignment="Top" />
								<RadioButton
									Content="{x:Static res:OptionsRes.AskOverwriteRadioButton}"
									Height="16" HorizontalAlignment="Left" Margin="0,21,0,0" VerticalAlignment="Top"
									GroupName="fileExists1" IsChecked="{Binding WhenFileExists, Converter={StaticResource EnumBoolConverter}, ConverterParameter=Prompt}"/>
								<RadioButton
									Content="{x:Static res:OptionsRes.OverwriteWithoutPromptRadioButton}"
									Height="16" HorizontalAlignment="Left" Margin="0,43,0,0" VerticalAlignment="Top"
									GroupName="fileExists2" IsChecked="{Binding WhenFileExists, Converter={StaticResource EnumBoolConverter}, ConverterParameter=Overwrite}"/>
								<RadioButton
									Content="{x:Static res:OptionsRes.AutomaticallySwitchNameRadioButton}" 
									Height="16" HorizontalAlignment="Left" Margin="0,65,0,0" VerticalAlignment="Top"
									GroupName="fileExists3" IsChecked="{Binding WhenFileExists, Converter={StaticResource EnumBoolConverter}, ConverterParameter=AutoRename}"/>

								<TextBlock 
									Grid.Column="2"
									HorizontalAlignment="Left" Margin="0,0,0,0" Name="textBlock2" Text="{x:Static res:OptionsRes.EncodingBatchOfFiles}" VerticalAlignment="Top" />
								<RadioButton
									Grid.Column="2"
									Content="{x:Static res:OptionsRes.OverwriteRadioButton}"
									Height="16" HorizontalAlignment="Left" Margin="0,21,0,0" VerticalAlignment="Top"
									GroupName="fileExistsBatch1" IsChecked="{Binding WhenFileExistsBatch, Converter={StaticResource EnumBoolConverter}, ConverterParameter=Overwrite}" />
								<RadioButton
									Grid.Column="2"
									Content="{x:Static res:OptionsRes.AutomaticallyRenameRadioButton}"
									Height="16" HorizontalAlignment="Left" Margin="0,43,0,0" VerticalAlignment="Top"
									GroupName="fileExistsBatch2"  IsChecked="{Binding WhenFileExistsBatch, Converter={StaticResource EnumBoolConverter}, ConverterParameter=AutoRename}"/>
							</Grid>
						</StackPanel>
					</StackPanel>

					<!-- Audio/Subtitles -->
					<StackPanel
						Orientation="Vertical"
						Visibility="{Binding SelectedTabIndex, Converter={StaticResource IntVisibilityConverter}, ConverterParameter=2}"
						VerticalAlignment="Top">
						<!-- Audio selection -->
						<TextBlock Text="{x:Static res:OptionsRes.AutomaticAudioSelection}" Style="{StaticResource ConfigSectionHeader}" />
						<StackPanel Style="{StaticResource ConfigSectionStack}">
							<RadioButton 
								Content="{x:Static res:CommonRes.Disabled}" HorizontalAlignment="Left" VerticalAlignment="Top"
								IsChecked="{Binding AutoAudio, Converter={StaticResource EnumBoolConverter}, ConverterParameter=Disabled}"
								GroupName="autoAudio1"
								ToolTip="{x:Static res:OptionsRes.AutoAudioDisabledToolTip}"/>
							<StackPanel
								Orientation="Horizontal"
								HorizontalAlignment="Left" VerticalAlignment="Top" Margin="0,6,0,0">
								<RadioButton 
									Content="{x:Static res:OptionsRes.LanguageRadioButton}" HorizontalAlignment="Left" VerticalAlignment="Center"
									IsChecked="{Binding AutoAudio, Converter={StaticResource EnumBoolConverter}, ConverterParameter=Language}"
									GroupName="autoAudio2"/>
								<ComboBox
									Height="23" VerticalAlignment="Top" HorizontalAlignment="Left" MinWidth="120" Margin="6,0,0,0"
									ItemsSource="{Binding Languages}" SelectedValue="{Binding AudioLanguageCode}"
									DisplayMemberPath="Name" SelectedValuePath="Code"
									IsEnabled="{Binding AutoAudioLanguageSelected}"
									Style="{StaticResource GrayOnDisabledControl}"/>
							</StackPanel>

							<CheckBox 
								Content="{x:Static res:OptionsRes.IncludeAllTracksCheckBox}" HorizontalAlignment="Left" Margin="20,6,0,0" VerticalAlignment="Top"
								IsChecked="{Binding AutoAudioAll}"
								IsEnabled="{Binding AutoAudioLanguageSelected}" Style="{StaticResource GrayOnDisabledControl}"/>
							<RadioButton 
								Content="{x:Static res:CommonRes.All}" HorizontalAlignment="Left" Margin="0,6,0,0" VerticalAlignment="Top"
								IsChecked="{Binding AutoAudio, Converter={StaticResource EnumBoolConverter}, ConverterParameter=All}"
								GroupName="autoAudio3"/>
						</StackPanel>

						<!-- Subtitle selection -->
						<TextBlock Text="{x:Static res:OptionsRes.AutomaticSubtitleSelection}" Style="{StaticResource ConfigSectionHeader}" />
						<StackPanel Style="{StaticResource ConfigSectionStack}">
							<RadioButton
								Content="{x:Static res:CommonRes.Disabled}" HorizontalAlignment="Left" VerticalAlignment="Top"
								IsChecked="{Binding AutoSubtitle, Converter={StaticResource EnumBoolConverter}, ConverterParameter=Disabled}"
								GroupName="autoSubtitle1"
								ToolTip="{x:Static res:OptionsRes.AutoSubtitleDisabledToolTip}"/>
							<RadioButton 
								Content="{x:Static res:OptionsRes.ForeignAudioSearchRadioButton}" HorizontalAlignment="Left" Margin="0,6,0,0" VerticalAlignment="Top"
								ToolTip="{x:Static res:CommonRes.ForeignAudioSearchToolTip}"
								IsChecked="{Binding AutoSubtitle, Converter={StaticResource EnumBoolConverter}, ConverterParameter=ForeignAudioSearch}"
								GroupName="autoSubtitle2"/>
							<CheckBox 
								Content="{x:Static res:OptionsRes.BurnInCheckBox}" HorizontalAlignment="Left" Margin="20,6,0,0" VerticalAlignment="Top"
								ToolTip="{x:Static res:CommonRes.BurnedSubtitleToolTip}"
								IsChecked="{Binding AutoSubtitleBurnIn}"
								IsEnabled="{Binding AutoSubtitleFasSelected}" Style="{StaticResource GrayOnDisabledControl}" />
							<StackPanel 
								Orientation="Horizontal"
								HorizontalAlignment="Left" VerticalAlignment="Top" Margin="0,6,0,0">
								<RadioButton 
									Content="{x:Static res:OptionsRes.LanguageRadioButton}" HorizontalAlignment="Left" VerticalAlignment="Center"
									IsChecked="{Binding AutoSubtitle, Converter={StaticResource EnumBoolConverter}, ConverterParameter=Language}"
									GroupName="autoSubtitle3"/>
								<ComboBox
									Height="23" VerticalAlignment="Top" HorizontalAlignment="Left" MinWidth="120" Margin="6,0,0,0"
									ItemsSource="{Binding Languages}" SelectedValue="{Binding SubtitleLanguageCode}"
									DisplayMemberPath="Name" SelectedValuePath="Code"
									IsEnabled="{Binding AutoSubtitleLanguageSelected}"
									Style="{StaticResource GrayOnDisabledControl}"/>
							</StackPanel>

							<CheckBox 
								Content="{x:Static res:OptionsRes.OnlyIfDifferentFromAudioCheckBox}" HorizontalAlignment="Left" Margin="20,6,0,0" Name="checkBox3" VerticalAlignment="Top"
								IsChecked="{Binding AutoSubtitleOnlyIfDifferent}"
								IsEnabled="{Binding AutoSubtitleLanguageSelected}" Style="{StaticResource GrayOnDisabledControl}" />
							<CheckBox 
								Content="{x:Static res:OptionsRes.IncludeAllTracksCheckBox}" HorizontalAlignment="Left" Margin="20,6,0,0" Name="checkBox4" VerticalAlignment="Top"
								IsChecked="{Binding AutoSubtitleAll}"
								IsEnabled="{Binding AutoSubtitleLanguageSelected}" Style="{StaticResource GrayOnDisabledControl}" />
							<RadioButton 
								Content="{x:Static res:CommonRes.All}" HorizontalAlignment="Left" Margin="0,6,0,0" Name="radioButton9" VerticalAlignment="Top"
								IsChecked="{Binding AutoSubtitle, Converter={StaticResource EnumBoolConverter}, ConverterParameter=All}"
								GroupName="autoSubtitle4"/>
						</StackPanel>
					</StackPanel>

					<!-- Processes -->
					<StackPanel
						Orientation="Vertical"
						Visibility="{Binding SelectedTabIndex, Converter={StaticResource IntVisibilityConverter}, ConverterParameter=3}"
						VerticalAlignment="Top">
						<TextBlock Text="{x:Static res:OptionsRes.AutoPauseLabel}" Style="{StaticResource ConfigSectionHeader}" TextWrapping="Wrap" />
						<StackPanel Style="{StaticResource ConfigSectionStack}">
							<ListBox 
								Margin="0,0,0,0"
								MinHeight="60"
								ItemsSource="{Binding AutoPauseProcesses}"
								SelectedItem="{Binding SelectedProcess}"/>
							<StackPanel Orientation="Horizontal" Margin="0,6,0,0" HorizontalAlignment="Left">
								<Button
									Content="{x:Static res:OptionsRes.AddEllipsesButton}" Height="23" HorizontalAlignment="Right" Margin="0,0,0,0" VerticalAlignment="Top" MinWidth="75"
									Command="{Binding OpenAddProcessDialogCommand}"/>
								<Button
									Content="{x:Static res:CommonRes.Remove}" Height="23" HorizontalAlignment="Right" Margin="8,0,0,0" VerticalAlignment="Top" MinWidth="75"
									Command="{Binding RemoveProcessCommand}"/>
							</StackPanel>
						</StackPanel>
					</StackPanel>

					<!-- Advanced -->
					<StackPanel
						Orientation="Vertical"
						Visibility="{Binding SelectedTabIndex, Converter={StaticResource IntVisibilityConverter}, ConverterParameter=4}"
						VerticalAlignment="Top">
						<!-- Advanced options -->
						<TextBlock Text="{x:Static res:OptionsRes.AdvancedOptionsSection}" Style="{StaticResource ConfigSectionHeader}" TextWrapping="Wrap" />
						<StackPanel Style="{StaticResource ConfigSectionStack}">
							<CheckBox
								Content="{x:Static res:OptionsRes.RememberPreviousFilesCheckBox}"
								IsChecked="{Binding RememberPreviousFiles}"
								HorizontalAlignment="Left" VerticalAlignment="Center" />
							<CheckBox
								Content="{x:Static res:OptionsRes.AllowCustomAudioTrackNamesCheckBox}"
								IsChecked="{Binding ShowAudioTrackNameField}"
								HorizontalAlignment="Left" Margin="0,6,0,0" VerticalAlignment="Center" />
							<CheckBox
								Content="{x:Static res:OptionsRes.DeleteSourceAfterCompletionCheckBox}"
								IsChecked="{Binding DeleteSourceFilesOnClearingCompleted}"
								HorizontalAlignment="Left" Margin="0,6,0,0" VerticalAlignment="Center" />
							<Grid Margin="0,6,0,0">
								<Grid.ColumnDefinitions>
									<ColumnDefinition Width="Auto" />
									<ColumnDefinition />
								</Grid.ColumnDefinitions>

								<TextBlock
									Grid.Column="0" HorizontalAlignment="Left" Text="{x:Static res:OptionsRes.RecognizedExtensionsLabel}" VerticalAlignment="Center"
									ToolTip="{x:Static res:OptionsRes.RecognizedExtensionsToolTip}" />
								<TextBox 
									Grid.Column="1" Height="23" Margin="6,0,9,0" VerticalAlignment="Center" Text="{Binding VideoFileExtensions}" VerticalContentAlignment="Center"/>
							</Grid>
						</StackPanel>

						<!-- Scanning -->
						<TextBlock Text="{x:Static res:OptionsRes.ScanningSection}" Style="{StaticResource ConfigSectionHeader}" TextWrapping="Wrap" />
						<StackPanel Style="{StaticResource ConfigSectionStack}">
							<StackPanel
								Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,0,0,0">
								<TextBlock
									Text="{x:Static res:OptionsRes.PreviewCountLabel}" HorizontalAlignment="Left" VerticalAlignment="Center" />
								<ComboBox
									Height="23" HorizontalAlignment="Left" VerticalAlignment="Center" Width="61" Margin="6,0,0,0"
									SelectedValue="{Binding PreviewCount}"
									SelectedValuePath="Content">
									<ComboBoxItem>10</ComboBoxItem>
									<ComboBoxItem>15</ComboBoxItem>
									<ComboBoxItem>20</ComboBoxItem>
									<ComboBoxItem>25</ComboBoxItem>
									<ComboBoxItem>30</ComboBoxItem>
								</ComboBox>
							</StackPanel>
							<StackPanel
								Orientation="Horizontal"
								Margin="0,6,0,0">
								<TextBlock
									HorizontalAlignment="Left" Text="{x:Static res:OptionsRes.MinScanLengthLabel}" VerticalAlignment="Center" />
								<my:NumberBox
									HorizontalAlignment="Left" VerticalAlignment="Center" AllowEmpty="False" Width="45" Height="20" Margin="6,0,0,0"
									Number="{Binding MinimumTitleLengthSeconds, Mode=TwoWay}" Minimum="0" />
							</StackPanel>
							<CheckBox
								Content="{x:Static res:OptionsRes.KeepScansAfterCompletionCheckBox}"
								IsChecked="{Binding KeepScansAfterCompletion}"
								HorizontalAlignment="Left" Margin="0,6,0,0" VerticalAlignment="Center" />
						</StackPanel>

						<!-- Logging -->
						<TextBlock Text="{x:Static res:OptionsRes.LoggingSection}" Style="{StaticResource ConfigSectionHeader}" TextWrapping="Wrap" />
						<StackPanel Style="{StaticResource ConfigSectionStack}">
							<StackPanel
								Orientation="Horizontal"
								Margin="0,0,0,0">
								<Label
									Content="{x:Static res:OptionsRes.LoggingVerbosityLabel}" HorizontalAlignment="Left" VerticalAlignment="Center" />
								<ComboBox
									Height="23" HorizontalAlignment="Left" SelectedValue="{Binding LogVerbosity}" SelectedValuePath="Content" VerticalAlignment="Center" Width="42">
									<ComboBoxItem Content="0" />
									<ComboBoxItem Content="1" />
									<ComboBoxItem Content="2" />
								</ComboBox>
							</StackPanel>
						</StackPanel>

						<!-- DVD reading -->
						<TextBlock Text="{x:Static res:OptionsRes.DvdReadingSection}" Style="{StaticResource ConfigSectionHeader}" TextWrapping="Wrap" />
						<StackPanel Style="{StaticResource ConfigSectionStack}">
							<CheckBox
								Content="{x:Static res:OptionsRes.EnableLibDvdNavCheckBox}"
								IsChecked="{Binding EnableLibDvdNav}"
								HorizontalAlignment="Left" Margin="0,0,0,0" VerticalAlignment="Center" />
						</StackPanel>
					</StackPanel>

					<!-- Updates -->
					<StackPanel
						Orientation="Vertical"
						Visibility="{Binding SelectedTabIndex, Converter={StaticResource IntVisibilityConverter}, ConverterParameter=5}"
						VerticalAlignment="Top">

						<!-- Updates -->
						<TextBlock Text="{x:Static res:OptionsRes.UpdatesSection}" Style="{StaticResource ConfigSectionHeader}" />
						<StackPanel Style="{StaticResource ConfigSectionStack}">
							<TextBlock 
								Text="{Binding CurrentVersion}" Margin="0,0,0,6" />
							<CheckBox
								VerticalAlignment="Top" HorizontalAlignment="Left" Margin="0,0,0,6"
								IsChecked="{Binding UpdatesEnabled}" Content="{x:Static res:OptionsRes.AutomaticUpdatesCheckBox}" />
							<Button
								Content="{x:Static res:OptionsRes.CheckNowButton}" HorizontalAlignment="Left" Padding="3"
								Command="{Binding CheckUpdateCommand}"
								Visibility="{Binding UpdatesEnabled, Converter={StaticResource VisibilityConverter}}" />
						</StackPanel>

						<!-- Status -->
						<TextBlock 
							Text="{x:Static res:OptionsRes.UpdateStatusSection}" Style="{StaticResource ConfigSectionHeader}" 
							Visibility="{Binding UpdatesEnabled, Converter={StaticResource VisibilityConverter}}" />
						<StackPanel 
							Style="{StaticResource ConfigSectionStack}"
							Visibility="{Binding UpdatesEnabled, Converter={StaticResource VisibilityConverter}}">
							<TextBlock 
								Text="{Binding UpdateStatus}" Margin="0,0,0,3" />
							<ProgressBar
								Grid.Column="1" Height="20" Margin="0,0,0,0"
								Value="{Binding UpdateProgress}"
								Visibility="{Binding UpdateDownloading, Converter={StaticResource VisibilityConverter}}" />
						</StackPanel>

						<!-- Beta -->
						<TextBlock
							Text="{x:Static res:OptionsRes.BetaSection}" Style="{StaticResource ConfigSectionHeader}"
							Visibility="{Binding BetaSectionVisible, Converter={StaticResource VisibilityConverter}}"/>
						<StackPanel
							Style="{StaticResource ConfigSectionStack}"
							Visibility="{Binding BetaSectionVisible, Converter={StaticResource VisibilityConverter}}">
							<TextBlock 
								TextWrapping="Wrap"
								Visibility="{Binding InBeta, Converter={StaticResource VisibilityConverter}, ConverterParameter=True}">
							<Hyperlink NavigateUri="{Binding BetaChangelogUrl}" RequestNavigate="Hyperlink_OnRequestNavigate">
								<TextBlock Text="{x:Static res:OptionsRes.BetaUpdatesNonBeta}" />
							</Hyperlink>
						</TextBlock>
							<TextBlock 
								Text="{x:Static res:OptionsRes.BetaUpdatesNonBetaWarning}" TextWrapping="Wrap"
								Visibility="{Binding InBeta, Converter={StaticResource VisibilityConverter}, ConverterParameter=True}"/>
							<TextBlock 
								Text="{x:Static res:OptionsRes.BetaUpdatesInBeta}" TextWrapping="Wrap"
								Visibility="{Binding InBeta, Converter={StaticResource VisibilityConverter}}"/>
						</StackPanel>
					</StackPanel>
				</Grid>
			</ScrollViewer>
		</Grid>

		<StackPanel
			Orientation="Horizontal" Grid.Row="1" Grid.Column="1"
			HorizontalAlignment="Right" Margin="0,6,6,6" VerticalAlignment="Bottom">
			<Button
				Height="23" HorizontalAlignment="Right" VerticalAlignment="Bottom" MinWidth="75" IsDefault="True"
				Command="{Binding SaveSettingsCommand}" Margin="0,0,6,0" Content="{x:Static res:CommonRes.Ok}" />
			<Button
				Height="23" HorizontalAlignment="Right" VerticalAlignment="Bottom" MinWidth="75" IsCancel="True"
				Command="{Binding CancelCommand}" Content="{x:Static res:CommonRes.Cancel}" />
		</StackPanel>
	</Grid>
</Window>
