<Window 
	x:Class="VidCoder.View.OptionsDialog"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:Model="clr-namespace:VidCoder.Model" Title="{x:Static res:OptionsRes.OptionsDialogTitle}" Height="415" Width="571"
	xmlns:prop="clr-namespace:VidCoder.Properties"
	xmlns:res="clr-namespace:VidCoder.LocalResources" 
	Style="{StaticResource NormalWindow}" WindowStartupLocation="CenterOwner" ResizeMode="NoResize" Closing="Window_Closing" xmlns:my="clr-namespace:VidCoder.Controls" Closed="Window_Closed"
	TextOptions.TextFormattingMode="Display">
	<Window.Resources>
		<Style x:Key="EmphasizedTitle" TargetType="TextBlock">
			<Setter Property="VerticalAlignment" Value="Center" />
			<Setter Property="Margin" Value="4,2,4,2" />
			<Setter Property="FontWeight" Value="Bold" />
		</Style>
	</Window.Resources>
	<Grid>
		<TabControl Margin="6,6,6,35" Name="tabControl">
			<TabItem Header="{x:Static res:OptionsRes.GeneralTab}">
				<Grid>
					<StackPanel 
						Orientation="Horizontal"
						HorizontalAlignment="Left" Margin="10,6,0,0" VerticalAlignment="Top" >
						<TextBlock Text="{x:Static res:OptionsRes.InterfaceLanguageLabel}" VerticalAlignment="Center" />
						<ComboBox Height="23" MinWidth="100" Margin="6,0,0,0" ItemsSource="{Binding LanguageChoices}" DisplayMemberPath="Display" SelectedItem="{Binding InterfaceLanguage}" />
					</StackPanel>
					<RadioButton
						Content="{x:Static res:OptionsRes.MinimizeToTaskBarRadioButton}" Height="16" HorizontalAlignment="Left" Margin="10,40,0,0" VerticalAlignment="Top"
						IsChecked="{Binding MinimizeToTray, Converter={StaticResource InverseBoolConverter}}"
						GroupName="minimize1"/>
					<RadioButton
						Content="{x:Static res:OptionsRes.MinimizeToSystemTrayRadioButton}" Height="16" HorizontalAlignment="Left" Margin="10,62,0,0" VerticalAlignment="Top"
						IsChecked="{Binding MinimizeToTray}"
						GroupName="minimize2"/>
					
					<CheckBox
						Height="16" Margin="10,95,0,0" VerticalAlignment="Top" HorizontalAlignment="Left"
						IsChecked="{Binding PlaySoundOnCompletion}" Content="{x:Static res:OptionsRes.PlaySoundOnQueueCompletionCheckBox}" />

					<StackPanel
						Orientation="Horizontal" HorizontalAlignment="Left" Margin="10,126,0,0" VerticalAlignment="Top">
						<TextBlock
							Text="{x:Static res:OptionsRes.PreferredDvdPlayerLabel}" VerticalAlignment="Center"
							ToolTip="{x:Static res:OptionsRes.PreferredDvdPlayerToolTip}"/>
						<ComboBox 
							Height="23" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="5,0,0,0"
							ItemsSource="{Binding PlayerChoices}"
							DisplayMemberPath="Display"
							SelectedItem="{Binding SelectedPlayer}"
							ToolTip="{x:Static res:OptionsRes.PreferredDvdPlayerToolTip}"/>
					</StackPanel>


					<CheckBox
						Height="16" Margin="10,161,0,0" VerticalAlignment="Top" HorizontalAlignment="Left"
						IsChecked="{Binding UpdatesEnabled}" Content="{x:Static res:OptionsRes.AutomaticUpdatesCheckBox}" />
					<CheckBox 
						Content="{x:Static res:OptionsRes.JoinBetaTrackCheckBox}" 
						Height="16" HorizontalAlignment="Left" Margin="10,183,0,0" VerticalAlignment="Top"
						IsChecked="{Binding BetaUpdates}"
						IsEnabled="{Binding BetaUpdatesCheckBoxEnabled}"
						ToolTip="{Binding BetaUpdatesToolTip}"
						ToolTipService.ShowOnDisabled="True"/>
					<Grid
						Height="31" Margin="27,206,11,0" VerticalAlignment="Top"
						Visibility="{Binding UpdatesEnabled, Converter={StaticResource VisibilityConverter}}">
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="Auto" />
							<ColumnDefinition />
						</Grid.ColumnDefinitions>
						<TextBlock Text="{Binding UpdateStatus}" Grid.Column="0" VerticalAlignment="Center" />
						<ProgressBar
							Grid.Column="1" Height="20" Margin="10,0,0,0"
							Value="{Binding UpdateProgress}"
							Visibility="{Binding UpdateDownloading, Converter={StaticResource VisibilityConverter}}" />
					</Grid>
				</Grid>
			</TabItem>
			<TabItem Header="{x:Static res:OptionsRes.FileNamingTab}">
				<Grid>
					<Grid VerticalAlignment="Top" Margin="0,6,0,0">
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="Auto" />
							<ColumnDefinition />
							<ColumnDefinition Width="Auto" />
						</Grid.ColumnDefinitions>

						<TextBlock
							Grid.Column="0"
							HorizontalAlignment="Left" Margin="5,0,5,0" VerticalAlignment="Center"
							Text="{x:Static res:OptionsRes.DefaultFolderLabel}" />
						<TextBox
							Grid.Column="1"
							Height="23" VerticalAlignment="Center"
							Text="{Binding DefaultPath}" />
						<Button
							Grid.Column="2"
							Height="23" HorizontalAlignment="Right" Margin="5,0,8,0" VerticalAlignment="Top" MinWidth="75"
							Command="{Binding BrowsePathCommand}"
							Content="{x:Static prop:Resources.Browse}" />
					</Grid>

					<CheckBox
						Content="{x:Static res:OptionsRes.OutputToSourceDirCheckBox}"
						Height="16" HorizontalAlignment="Left" Margin="9,38,0,0" Name="checkBox1" VerticalAlignment="Top"
						IsChecked="{Binding OutputToSourceDirectory}"/>

					<Grid Margin="5,63,5,0" VerticalAlignment="Top">
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="Auto" />
							<ColumnDefinition />
						</Grid.ColumnDefinitions>
						<Label HorizontalAlignment="Left" VerticalAlignment="Top" Content="{x:Static res:OptionsRes.FileFormatLabel}" />
						<RadioButton
							Grid.Column="1"
							Height="16" Margin="5,7,0,0" VerticalAlignment="Top" HorizontalAlignment="Left"
							IsChecked="{Binding CustomFormat, Converter={StaticResource InverseBoolConverter}}" Content="{x:Static res:OptionsRes.DefaultFormatRadioButton}" />
						<RadioButton
							Grid.Column="1"
							Height="16" Margin="5,29,0,0" VerticalAlignment="Top" HorizontalAlignment="Left"
							IsChecked="{Binding CustomFormat}" Content="{x:Static res:OptionsRes.CustomFormatRadioButton}" />
						<TextBox
							Grid.Column="1"
							Margin="20,51,6,0" Height="22.959" VerticalAlignment="Top"
							Text="{Binding CustomFormatString}"
							IsEnabled="{Binding CustomFormatStringEnabled}" />
						<TextBlock 
							Grid.Column="1"
							Margin="20,77,6,0" TextWrapping="Wrap" Height="36" VerticalAlignment="Top" Text="{Binding AvailableOptionsText}" />
					</Grid>


					<TextBlock
						HorizontalAlignment="Left" Margin="9,184,0,0" VerticalAlignment="Top"
						Text="{x:Static res:OptionsRes.WhenFileAlreadyExists}"/>

					<Grid HorizontalAlignment="Left" VerticalAlignment="Top" Margin="32,204,0,0">
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="Auto" />
							<ColumnDefinition Width="8" />
							<ColumnDefinition />
						</Grid.ColumnDefinitions>

						<TextBlock HorizontalAlignment="Left" Margin="0,0,0,0" Text="{x:Static res:OptionsRes.EncodingSingleFile}" VerticalAlignment="Top" />
						<RadioButton
							Content="{x:Static res:OptionsRes.AskOverwriteRadioButton}"
							Height="16" HorizontalAlignment="Left" Margin="0,21,0,0" VerticalAlignment="Top"
							GroupName="fileExists1" IsChecked="{Binding WhenFileExists, Converter={StaticResource EnumBoolConverter}, ConverterParameter=Prompt}"/>
						<RadioButton
							Content="{x:Static res:OptionsRes.OverwriteWithoutPromptRadioButton}"
							Height="16" HorizontalAlignment="Left" Margin="0,43,0,0" VerticalAlignment="Top"
							GroupName="fileExists2" IsChecked="{Binding WhenFileExists, Converter={StaticResource EnumBoolConverter}, ConverterParameter=Overwrite}"/>
						<RadioButton
							Content="{x:Static res:OptionsRes.AutomaticallySwitchNameRadioButton}" 
							Height="16" HorizontalAlignment="Left" Margin="0,65,0,0" VerticalAlignment="Top"
							GroupName="fileExists3" IsChecked="{Binding WhenFileExists, Converter={StaticResource EnumBoolConverter}, ConverterParameter=AutoRename}"/>

						<TextBlock 
							Grid.Column="2"
							HorizontalAlignment="Left" Margin="0,0,0,0" Name="textBlock2" Text="{x:Static res:OptionsRes.EncodingBatchOfFiles}" VerticalAlignment="Top" />
						<RadioButton
							Grid.Column="2"
							Content="{x:Static res:OptionsRes.OverwriteRadioButton}"
							Height="16" HorizontalAlignment="Left" Margin="0,21,0,0" VerticalAlignment="Top"
							GroupName="fileExistsBatch1" IsChecked="{Binding WhenFileExistsBatch, Converter={StaticResource EnumBoolConverter}, ConverterParameter=Overwrite}" />
						<RadioButton
							Grid.Column="2"
							Content="{x:Static res:OptionsRes.AutomaticallyRenameRadioButton}"
							Height="16" HorizontalAlignment="Left" Margin="0,43,0,0" VerticalAlignment="Top"
							GroupName="fileExistsBatch2"  IsChecked="{Binding WhenFileExistsBatch, Converter={StaticResource EnumBoolConverter}, ConverterParameter=AutoRename}"/>
					</Grid>
				</Grid>
			</TabItem>
			<TabItem Header="{x:Static res:OptionsRes.AudioSubtitlesTab}">
				<Grid>
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="Auto" />
						<ColumnDefinition Width="8" />
						<ColumnDefinition />
					</Grid.ColumnDefinitions>
					<TextBlock 
						HorizontalAlignment="Left" Margin="6,6,0,0" Text="{x:Static res:OptionsRes.AutomaticAudioSelection}" VerticalAlignment="Top" />
					<RadioButton 
						Content="{x:Static prop:Resources.Disabled}" Height="16" HorizontalAlignment="Left" Margin="28,31,0,0" VerticalAlignment="Top"
						IsChecked="{Binding AutoAudio, Converter={StaticResource EnumBoolConverter}, ConverterParameter=Disabled}"
						GroupName="autoAudio1"
						ToolTip="{x:Static res:OptionsRes.AutoAudioDisabledToolTip}"/>
					<StackPanel
						Orientation="Horizontal"
						HorizontalAlignment="Left" VerticalAlignment="Top" Margin="28,50,0,0">
						<RadioButton 
							Content="{x:Static res:OptionsRes.LanguageRadioButton}" HorizontalAlignment="Left" VerticalAlignment="Center"
							IsChecked="{Binding AutoAudio, Converter={StaticResource EnumBoolConverter}, ConverterParameter=Language}"
							GroupName="autoAudio2"/>
						<ComboBox
							Height="23" VerticalAlignment="Top" HorizontalAlignment="Left" MinWidth="120" Margin="6,0,0,0"
							ItemsSource="{Binding Languages}" SelectedValue="{Binding AudioLanguageCode}"
							DisplayMemberPath="Name" SelectedValuePath="Code"
							IsEnabled="{Binding AutoAudioLanguageSelected}"/>
					</StackPanel>

					<CheckBox 
						Content="{x:Static res:OptionsRes.IncludeAllTracksCheckBox}" Height="16" HorizontalAlignment="Left" Margin="50,77,0,0" VerticalAlignment="Top"
						IsChecked="{Binding AutoAudioAll}"
						IsEnabled="{Binding AutoAudioLanguageSelected}"/>
					<RadioButton 
						Content="{x:Static prop:Resources.All}" Height="16" HorizontalAlignment="Left" Margin="28,98,0,0" VerticalAlignment="Top"
						IsChecked="{Binding AutoAudio, Converter={StaticResource EnumBoolConverter}, ConverterParameter=All}"
						GroupName="autoAudio3"/>
					
					<TextBlock 
						Grid.Column="2"
						Height="23" HorizontalAlignment="Left" Margin="6,6,0,0" Text="{x:Static res:OptionsRes.AutomaticSubtitleSelection}" VerticalAlignment="Top" />
					<RadioButton
						Grid.Column="2"
						Content="{x:Static prop:Resources.Disabled}" Height="16" HorizontalAlignment="Left" Margin="28,31,0,0" VerticalAlignment="Top"
						IsChecked="{Binding AutoSubtitle, Converter={StaticResource EnumBoolConverter}, ConverterParameter=Disabled}"
						GroupName="autoSubtitle1"
						ToolTip="{x:Static res:OptionsRes.AutoSubtitleDisabledToolTip}"/>
					<RadioButton 
						Grid.Column="2"
						Content="{x:Static res:OptionsRes.ForeignAudioSearchRadioButton}" Height="16" HorizontalAlignment="Left" Margin="28,53,0,0" VerticalAlignment="Top"
						ToolTip="{x:Static prop:Resources.ForeignAudioSearchToolTip}"
						IsChecked="{Binding AutoSubtitle, Converter={StaticResource EnumBoolConverter}, ConverterParameter=ForeignAudioSearch}"
						GroupName="autoSubtitle2"/>
					<CheckBox 
						Grid.Column="2"
						Content="{x:Static res:OptionsRes.BurnInCheckBox}" Height="16" HorizontalAlignment="Left" Margin="50,73,0,0" VerticalAlignment="Top"
						ToolTip="{x:Static prop:Resources.BurnedSubtitleToolTip}"
						IsChecked="{Binding AutoSubtitleBurnIn}"
						IsEnabled="{Binding AutoSubtitleFasSelected}"/>
					<StackPanel 
						Grid.Column="2"
						Orientation="Horizontal"
						HorizontalAlignment="Left" VerticalAlignment="Top" Margin="28,92,0,0">
						<RadioButton 
							Grid.Column="2"
							Content="{x:Static res:OptionsRes.LanguageRadioButton}" HorizontalAlignment="Left" VerticalAlignment="Center"
							IsChecked="{Binding AutoSubtitle, Converter={StaticResource EnumBoolConverter}, ConverterParameter=Language}"
							GroupName="autoSubtitle3"/>
						<ComboBox
							Grid.Column="2"
							Height="23" VerticalAlignment="Top" HorizontalAlignment="Left" MinWidth="120" Margin="6,0,0,0"
							ItemsSource="{Binding Languages}" SelectedValue="{Binding SubtitleLanguageCode}"
							DisplayMemberPath="Name" SelectedValuePath="Code"
							IsEnabled="{Binding AutoSubtitleLanguageSelected}"/>
					</StackPanel>

					<CheckBox 
						Grid.Column="2"
						Content="{x:Static res:OptionsRes.OnlyIfDifferentFromAudioCheckBox}" Height="16" HorizontalAlignment="Left" Margin="50,121,0,0" Name="checkBox3" VerticalAlignment="Top"
						IsChecked="{Binding AutoSubtitleOnlyIfDifferent}"
						IsEnabled="{Binding AutoSubtitleLanguageSelected}"/>
					<CheckBox 
						Grid.Column="2"
						Content="{x:Static res:OptionsRes.IncludeAllTracksCheckBox}" Height="16" HorizontalAlignment="Left" Margin="50,143,0,0" Name="checkBox4" VerticalAlignment="Top"
						IsChecked="{Binding AutoSubtitleAll}"
						IsEnabled="{Binding AutoSubtitleLanguageSelected}"/>
					<RadioButton 
						Grid.Column="2"
						Content="{x:Static prop:Resources.All}" Height="16" HorizontalAlignment="Left" Margin="28,165,0,0" Name="radioButton9" VerticalAlignment="Top"
						IsChecked="{Binding AutoSubtitle, Converter={StaticResource EnumBoolConverter}, ConverterParameter=All}"
						GroupName="autoSubtitle4"/>
				</Grid>
			</TabItem>
			<TabItem Header="{x:Static res:OptionsRes.ProcessesTab}">
				<Grid>
					<Grid.RowDefinitions>
						<RowDefinition Height="Auto" />
						<RowDefinition />
					</Grid.RowDefinitions>
					<Grid.ColumnDefinitions>
						<ColumnDefinition />
						<ColumnDefinition Width="Auto" />
					</Grid.ColumnDefinitions>
					<TextBlock
						Text="{x:Static res:OptionsRes.AutoPauseLabel}" HorizontalAlignment="Left" Margin="6,6,0,0" VerticalAlignment="Top" TextWrapping="Wrap" />
					
					
					<ListBox 
						Grid.Row="1"
						Margin="6,6,6,6"
						ItemsSource="{Binding AutoPauseProcesses}"
						SelectedItem="{Binding SelectedProcess}"/>
					<Button
						Grid.Row="1" Grid.Column="1"
						Content="{x:Static res:OptionsRes.AddEllipsesButton}" Height="23" HorizontalAlignment="Right" Margin="0,31,6,0" VerticalAlignment="Top" MinWidth="75"
						Command="{Binding OpenAddProcessDialogCommand}"/>
					<Button
						Grid.Row="1" Grid.Column="1"
						Content="{x:Static prop:Resources.Remove}" Height="23" HorizontalAlignment="Right" Margin="0,60,6,0" VerticalAlignment="Top" MinWidth="75"
						Command="{Binding RemoveProcessCommand}"/>
				</Grid>
			</TabItem>
			<TabItem Header="{x:Static res:OptionsRes.AdvancedTab}">
				<Grid>
					<Grid.RowDefinitions>
						<RowDefinition Height="Auto" />
						<RowDefinition Height="22" />
						<RowDefinition Height="22" />
						<RowDefinition Height="22" />
						<RowDefinition Height="22" />
						<RowDefinition Height="22" />
						<RowDefinition Height="Auto" />
						<RowDefinition Height="Auto" />
						<RowDefinition Height="Auto" />
						<RowDefinition Height="Auto" />
						<RowDefinition Height="38*" />
					</Grid.RowDefinitions>
					<StackPanel
						Orientation="Horizontal" HorizontalAlignment="Left" Margin="6,6,0,0" VerticalAlignment="Top">
						<Label
							Content="{x:Static res:OptionsRes.PreviewCountLabel}" HorizontalAlignment="Left" VerticalAlignment="Center" />
						<ComboBox
							Height="23" HorizontalAlignment="Left" VerticalAlignment="Center" Width="61"
							SelectedValue="{Binding PreviewCount}"
							SelectedValuePath="Content">
							<ComboBoxItem>10</ComboBoxItem>
							<ComboBoxItem>15</ComboBoxItem>
							<ComboBoxItem>20</ComboBoxItem>
							<ComboBoxItem>25</ComboBoxItem>
							<ComboBoxItem>30</ComboBoxItem>
						</ComboBox>
					</StackPanel>

					
					<CheckBox
						Grid.Row="1"
						Content="{x:Static res:OptionsRes.RememberPreviousFilesCheckBox}"
						IsChecked="{Binding RememberPreviousFiles}"
						Height="16" HorizontalAlignment="Left" Margin="15,0,0,0" VerticalAlignment="Center" />
					<CheckBox
						Grid.Row="2"
						Content="{x:Static res:OptionsRes.AllowCustomAudioTrackNamesCheckBox}"
						IsChecked="{Binding ShowAudioTrackNameField}"
						Height="16" HorizontalAlignment="Left" Margin="15,0,0,0" VerticalAlignment="Center" />
					<CheckBox
						Grid.Row="3"
						Content="{x:Static res:OptionsRes.EnableLibDvdNavCheckBox}"
						IsChecked="{Binding EnableLibDvdNav}"
						Height="16" HorizontalAlignment="Left" Margin="15,0,0,0" VerticalAlignment="Center" />
					<CheckBox
						Grid.Row="4"
						Content="{x:Static res:OptionsRes.KeepScansAfterCompletionCheckBox}"
						IsChecked="{Binding KeepScansAfterCompletion}"
						Height="16" HorizontalAlignment="Left" Margin="15,0,0,0" VerticalAlignment="Center" />
					<CheckBox
						Grid.Row="5"
						Content="{x:Static res:OptionsRes.DeleteSourceAfterCompletionCheckBox}"
						IsChecked="{Binding DeleteSourceFilesOnClearingCompleted}"
						Height="16" HorizontalAlignment="Left" Margin="15,0,0,0" VerticalAlignment="Center" />
					<StackPanel
						Orientation="Horizontal"
						Margin="6,0,0,0" Grid.Row="6">
						<Label
							Content="{x:Static res:OptionsRes.LoggingVerbosityLabel}" HorizontalAlignment="Left" VerticalAlignment="Center" />
						<ComboBox
							Height="23" HorizontalAlignment="Left" SelectedValue="{Binding LogVerbosity}" SelectedValuePath="Content" VerticalAlignment="Center" Width="42">
							<ComboBoxItem Content="0" />
							<ComboBoxItem Content="1" />
							<ComboBoxItem Content="2" />
						</ComboBox>
					</StackPanel>

					<StackPanel
						Orientation="Horizontal"
						Margin="11,5,0,0" Grid.Row="7">
						<TextBlock
							HorizontalAlignment="Left" Text="{x:Static res:OptionsRes.MinScanLengthLabel}" VerticalAlignment="Center" />
						<my:NumberBox
							HorizontalAlignment="Left" VerticalAlignment="Center" AllowEmpty="False" Width="45" Margin="6,0,0,0"
							Number="{Binding MinimumTitleLengthSeconds, Mode=TwoWay}" Minimum="0" />
					</StackPanel>

					<Grid
						Margin="11,5,0,0" Grid.Row="8">
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="Auto" />
							<ColumnDefinition />
						</Grid.ColumnDefinitions>

						<TextBlock
							Grid.Column="0" HorizontalAlignment="Left" Text="{x:Static res:OptionsRes.RecognizedExtensionsLabel}" VerticalAlignment="Center"
							ToolTip="{x:Static res:OptionsRes.RecognizedExtensionsToolTip}" />
						<TextBox 
							Grid.Column="1" Height="23" Margin="6,0,9,0" VerticalAlignment="Center" Text="{Binding VideoFileExtensions}"/>
					</Grid>
				</Grid>
			</TabItem>
		</TabControl>
		<StackPanel
			Orientation="Horizontal"
			HorizontalAlignment="Right" Margin="0,0,6,6" VerticalAlignment="Bottom">
			<Button
				Height="23" HorizontalAlignment="Right" VerticalAlignment="Bottom" MinWidth="75" IsDefault="True"
				Command="{Binding SaveSettingsCommand}" Margin="0,0,6,0" Content="{x:Static prop:Resources.Ok}" />
			<Button
				Height="23" HorizontalAlignment="Right" VerticalAlignment="Bottom" MinWidth="75" IsCancel="True"
				Command="{Binding CancelCommand}" Content="{x:Static prop:Resources.Cancel}" />
		</StackPanel>
	</Grid>
</Window>
